# Poznote Configuration
# Copy this file to .env and customize the values

# =============================================================================
# AUTHENTICATION BASIC CONFIGURATION
# =============================================================================

# Basic Authentication
# Set your admin username and password
POZNOTE_USERNAME=admin
POZNOTE_PASSWORD=admin

# Web Server Configuration
# Port on which Poznote will be accessible
HTTP_WEB_PORT=8040

# =============================================================================
# AUTHENTICATION OIDC CONFIGURATION
# =============================================================================

# OIDC / SSO Authentication (Optional)
# Enable OpenID Connect authentication
# When enabled, users can log in using external identity providers like Auth0, Keycloak, Azure AD, etc.

# Enable or disable OIDC authentication
POZNOTE_OIDC_ENABLED=false

# Display name for the OIDC provider (shown on login button)
POZNOTE_OIDC_PROVIDER_NAME=SSO

# OIDC Provider Configuration
# These values come from your OIDC identity provider (IdP)

# The issuer URL of your OIDC provider (usually ends with /.well-known/openid-configuration)
POZNOTE_OIDC_ISSUER=https://your-identity-provider.com

# Client ID from your OIDC application registration
POZNOTE_OIDC_CLIENT_ID=your_client_id

# Client secret from your OIDC application registration (keep this secure!)
POZNOTE_OIDC_CLIENT_SECRET=your_client_secret

# Optional: Custom scopes (default: "openid profile email")
# POZNOTE_OIDC_SCOPES="openid profile email"

# Optional: Override auto-discovery URL
# POZNOTE_OIDC_DISCOVERY_URL=https://your-idp.com/.well-known/openid-configuration

# Optional: Custom redirect URI (default: auto-generated)
# POZNOTE_OIDC_REDIRECT_URI=https://your-domain.com/oidc_callback.php

# Optional: Custom logout endpoint for RP-initiated logout
# POZNOTE_OIDC_END_SESSION_ENDPOINT=https://your-idp.com/logout

# Optional: Where to redirect after logout (default: login page)
# POZNOTE_OIDC_POST_LOGOUT_REDIRECT_URI=https://your-domain.com/login.php

# Optional: Disable normal login when OIDC is enabled (force SSO-only login)
# When set to true, the username/password login form will be hidden and only OIDC login is available
# Default: false
# POZNOTE_OIDC_DISABLE_NORMAL_LOGIN=false

# Optional: Disable HTTP Basic Auth for API when OIDC is enabled (force OIDC-only authentication)
# When set to true, API requests with HTTP Basic Auth will be rejected (403 Forbidden)
# Default: false
# POZNOTE_OIDC_DISABLE_BASIC_AUTH=false

# Optional BUT VERY RECOMMANDED: Restrict access to specific users (comma-separated list of emails or usernames)
# SECURITY: If not set, ALL authenticated users from the identity provider can access the application
# Highly recommended to set this to prevent unauthorized access
# Example: POZNOTE_OIDC_ALLOWED_USERS=alice@example.com,bob@example.com,charlie@company.org
# POZNOTE_OIDC_ALLOWED_USERS=

# =============================================================================
# IMPORT CONFIGURATION
# =============================================================================

# Maximum number of files allowed for individual file imports
# Default: 50
# This limits the number of .html, .md, txt or .markdown files that can be imported at once
POZNOTE_IMPORT_MAX_INDIVIDUAL_FILES=50

# Maximum number of files allowed in a ZIP archive for import
# Default: 300
# This limits the number of files that can be imported from a single ZIP file
POZNOTE_IMPORT_MAX_ZIP_FILES=300