#left_col {
    width: 100% !important;
    min-width: 0 !important;
    max-width: none !important;
    height: 100dvh !important;
    position: fixed;
    inset: 0;
    padding: 16 26 26 26;
    background: #FFFFFF;
    box-sizing: border-box;
    overflow-y: scroll !important; /* Always show scrollbar on mobile */
    overflow-x: hidden !important; /* Hide horizontal scrollbar */
}

/* Show mobile-only elements on mobile */
.mobile-only {
    display: block !important;
}

/* Hide desktop-only elements on mobile */
.desktop-only {
    display: none !important;
}

/* Hide resize handle on mobile */
.resize-handle {
    display: none !important;
}

#header-create-menu {
    position: absolute;
    top: 100%;
    right: 0;
    background: white;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    min-width: 140px;
    padding: 8px 0;
    margin-top: 5px;
    display: none;
}

.create-menu-item {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    cursor: pointer;
    font-size: 14px;
    color: #333;
    border-bottom: 1px solid #f0f0f0;
    transition: background-color 0.2s;
    font-family: 'Inter', sans-serif;
    background: transparent;
    border: none;
    width: 100%;
    text-align: left;
}

.create-menu-item:last-child {
    border-bottom: none;
}

.create-menu-item:hover {
    background-color: #f8f9fa;
    color: #007DB8;
}

.create-menu {
    position: absolute;
    bottom: 56px;
    left: 0;
    right: 0;
}

/* Mobile content spacing */
/* .mobile-search-container removed (search moved/hidden in mobile view) */
/* Minimal mobile search styles restored */
.mobile-search-container {
    margin-bottom: 10px !important;
    margin-top: 20px !important;
    padding: 0 12px;
}

.mobile-search-container .unified-search-container {
    width: 100%;
}


/* Folder filter spacing on mobile */
.folder-filter-container {
    margin-top: 10px !important;
}

.folder-filter-container .searchbar-row {
    margin-bottom: 0 !important;
}

html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
}

/* Alternative approach - target by URL or JavaScript class addition */
html {
overflow-x: hidden;
}

body {
    display: block !important;
    flex-direction: unset !important;
    position: relative;
}

/* Mobile toolbar optimization */
.note-edit-toolbar {
    flex-direction: row !important;
    flex-wrap: wrap !important;
    /* gap: 6px !important; */
    justify-content: center !important;
    padding: 8px !important;
    width: 100% !important;
    align-items: center !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    overflow: hidden !important;
}

/* When in color mode, hide original toolbar buttons and show the inline color toolbar */
.note-edit-toolbar.color-mode .toolbar-btn { display: none !important; }

/* Reduce space between toolbar and tags on mobile */
.note-header {
    margin-bottom: 8px !important;
    padding-bottom: 0 !important;
    padding-left: 8px !important;
    padding-right: 8px !important;
    box-sizing: border-box !important;
}

.note-tags-row {
    margin-top: 0 !important;
    /* margin-bottom: 12px !important; */
}

.note-attachments-row {
    margin-top: 10px !important;
    margin-bottom: 5px !important;
}

.noteentry label span[contenteditable="true"]:focus {
    background-color: rgba(0, 123, 255, 0.1) !important;
    border-radius: 2px !important;
}

.noteentry label span[contenteditable="true"]:empty:before {
    content: "Type your task here" !important;
    color: #999 !important;
    font-style: italic !important;
}

/* Increase text size for code blocks on mobile */
.noteentry span[style*='Consolas'] {
    font-size: 16px !important;
}

pre, code {
    font-size: 16px !important;
}

/* Ensure images in notes don't overflow on mobile */
.noteentry img {
    max-width: 100% !important;
    height: auto !important;
    display: block !important;
    margin: 10px 0 !important;
}

/* Increase text size in left column on mobile */
#left_col .links_arbo_left {
    font-size: 16px !important;
    line-height: 1.4 !important;
    box-sizing: border-box !important;
}

/* Specific rule for note title spans in all links on mobile */
#left_col .links_arbo_left .note-title {
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    display: block !important;
}

#right_col {
    display: none !important;
}

.innernote{
    padding-left: 5%;
    padding-top: 5px;
    padding-right: 5%;
    padding-bottom: 5px;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}

body.note-open #left_col {
    display: none !important;
}

body.note-open #right_col {
    display: block !important;
    position: fixed;
    inset: 0;
    overflow-y: scroll !important; /* Always show scrollbar */
    background: #fff;
    z-index: 100;
}

/* FOLDER STYLES FOR MOBILE */

.folder-header {
    margin-bottom: 0px; /* Remove spacing between mobile folders (5px → 0px) */
    cursor: pointer !important;
    border-radius: 8px !important;
    transition: background-color 0.2s !important;
    -webkit-tap-highlight-color: rgba(0,0,0,0) !important;
    touch-action: manipulation !important;
}

.folder-header.selected-folder {
    background-color: transparent !important; /* Remove blue background on mobile */
}

/* Override any focus/active states on mobile */
.folder-header:focus,
.folder-header:active {
    background-color: transparent !important;
    outline: none !important;
}

.folder-content a:focus,
.folder-content a:active {
    background-color: transparent !important;
    outline: none !important;
}

/* Remove note selection highlighting on mobile */
a.links_arbo_left.selected-note {
    background-color: transparent !important;
}

/* Prevent touch highlight effects on mobile */
.folder-header {
    -webkit-tap-highlight-color: transparent !important;
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    -khtml-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
}

a.links_arbo_left {
    -webkit-tap-highlight-color: transparent !important;
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    -khtml-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
    cursor: pointer !important;
    -webkit-tap-highlight-color: rgba(0,0,0,0) !important;
    touch-action: manipulation !important;
}

/* Remove hover effects on mobile */
@media (hover: none) and (pointer: coarse) {
    .folder-header:hover,
    .folder-header:active,
    .folder-header:focus {
        background-color: transparent !important;
    }
    
    a.links_arbo_left:hover,
    a.links_arbo_left:active,
    a.links_arbo_left:focus {
        background-color: transparent !important;
    }
}

/* Force override all possible highlighting states on mobile */
.folder-header,
.folder-header:hover,
.folder-header:active,
.folder-header:focus,
.folder-header.selected-folder {
    background-color: transparent !important;
    background: transparent !important;
}

a.links_arbo_left,
a.links_arbo_left:hover,
a.links_arbo_left:active,
a.links_arbo_left:focus,
a.links_arbo_left.selected-note {
    background-color: transparent !important;
    background: transparent !important;
    cursor: pointer !important;
    -webkit-tap-highlight-color: rgba(0,0,0,0) !important;
    touch-action: manipulation !important;
}

.folder-content {
    background-color: transparent !important;
    background: transparent !important;
}

.folder-toggle {
    padding: 12px 8px !important;
    border-radius: 8px !important;
}

.folder-name {
    font-size: 16px !important;
    font-weight: 600 !important;
}

.folder-note-count {
    font-size: 14px !important;
    color: #999 !important;
    font-weight: 300 !important;
    margin-left: 3px !important;
    margin-right: 6px !important; /* Reduce from 10px to 6px to compensate for visible buttons */
    flex: 0 0 auto !important;
}

.folder-content {
    margin-left: 16px !important;
    margin-bottom: 5px !important; /* Reduce spacing under mobile folders (12px → 5px) */
}

.note-in-folder {
    padding-left: 6px !important; /* Reduce mobile padding (34px → 6px) */
    margin-bottom: 0px !important; /* Remove spacing between notes */
    display: flex !important;
    align-items: center !important;
    position: relative !important;
}

.note-in-folder a.links_arbo_left {
    display: block !important;
    position: relative !important;
}

.note-in-folder a.links_arbo_left .note-title {
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    display: block !important;
    margin-left: 0px !important; /* Recover mobile spacing (20px → 0px) */
}

.folder-actions {
    opacity: 1; /* Always visible on mobile */
}

.folder-actions i {
    margin-left: 12px !important;
}

/* On mobile, actions are always visible by default, but can be overridden */
.folder-actions-always-visible .folder-actions i {
    opacity: 1;
    pointer-events: auto;
}

 

.suggested-folder-option {
    padding: 10px 16px !important;
    font-size: 15px !important;
    border-radius: 25px !important;
    min-height: 44px !important;
    display: inline-flex !important;
    align-items: center !important;
    box-sizing: border-box !important;
}

.suggested-folder-option i {
    margin-right: 8px !important;
    font-size: 14px !important;
}


.folder-option {
    padding: 16px 14px !important;
    font-size: 15px !important;
    min-height: 50px !important;
    box-sizing: border-box !important;
    display: flex !important;
    align-items: center !important;
}

.folder-option i {
    margin-right: 10px !important;
    font-size: 16px !important;
    flex-shrink: 0 !important;
}

.folder-option .folder-name {
    flex: 1 !important;
}

.folder-option .note-count {
    margin-left: 8px !important;
    font-size: 13px !important;
}

/* Modal-related rules moved to css/modals.css */


/* UNIFIED SEARCH MOBILE STYLES */

/* Mobile searchbar input adjustments */
.searchbar-input {
    padding: 10px 12px 10px 40px !important;
    font-size: 0.9em !important; /* Prevent zoom on iOS */
    color: #2b2b2b !important;
    caret-color: #000000 !important;
    border-radius: 8px !important;
    border: 1px solid #e6eef8 !important;
    height: 40px !important;
    box-sizing: border-box !important;
}

.searchbar-input::placeholder {
    color: #b0b0b0 !important;
    opacity: 1;
}

.searchbar-input-wrapper.has-clear-button .searchbar-input {
    padding-right: 50px !important;
}

.searchbar-clear {
    right: 15px !important;
    height: 32px !important;
    width: 32px !important;
}

.searchbar-input:focus {
    border-color: #cfe6ff !important;
    box-shadow: 0 0 0 3px rgba(15,120,230,0.06) !important;
    outline: none !important;
}

.search-options-container.mobile {
    margin-top: 8px;
    padding: 0;
    animation: fadeIn 0.3s ease-out;
}

.search-options-container .search-type-pills {
    display: flex;
    gap: 5px;
    flex-wrap: wrap;
    align-items: center;
    justify-content: flex-start;
}

.search-options-container .search-pill {
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 12px;
    padding: 3px 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #6c757d;
    font-size: 0.75em;
    font-weight: 400;
    display: flex;
    align-items: center;
    gap: 3px;
    outline: none;
    position: relative;
    min-height: 26px;
    flex: 0 1 auto;
    user-select: none;
    opacity: 0.8;
}

.search-options-container .search-pill:hover {
    background: #e9ecef;
    border-color: #007DB8;
    color: #007DB8;
    transform: translateY(-1px);
    box-shadow: 0 1px 3px rgba(0, 125, 184, 0.1);
    opacity: 1;
}

.search-options-container .search-pill:active {
    transform: translateY(0);
    box-shadow: 0 1px 2px rgba(0, 125, 184, 0.1);
}

.search-options-container .search-pill.active {
    background: #007DB8;
    border-color: #007DB8;
    color: white;
    box-shadow: 0 1px 4px rgba(0, 125, 184, 0.2);
    opacity: 1;
}

.search-options-container .search-pill.active:hover {
    background: #0056b3;
    border-color: #0056b3;
    color: white;
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0, 125, 184, 0.3);
}

.search-options-container .search-pill.active:active {
    transform: translateY(0);
    box-shadow: 0 1px 3px rgba(0, 125, 184, 0.2);
}

.search-options-container .search-pill i {
    font-size: 0.7em;
}

.search-options-container .search-pill span {
    font-size: 0.75em;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-5px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Legacy search-type-btn styles - keep for backwards compatibility */
.search-type-btn {
    background: transparent;
    border: none;
    padding: 4px 5px;
    font-size: 0.8em;
    min-width: 26px;
    height: 26px;
    color: #b0b0b0;
    transition: all 0.2s ease;
    border-radius: 3px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.search-type-btn:hover {
    background: rgba(0, 125, 184, 0.1);
}

.search-type-btn:hover i {
    color: #007DB8;
}

.search-type-btn.active i {
    color: #007DB8 !important;
}

.search-type-btn.active:hover i {
    color: #007DB8 !important;
}

/* Mobile search validation error styles */
.mobile .search-validation-error {
    font-size: 0.8em;
    margin: 6px 0 2px 0;
    padding: 6px 10px;
}

/* MOBILE NOTIFICATION POPUP STYLES */
.notification-overlay {
    z-index: 999 !important;
}

#notificationPopup {
    padding: 12px 20px !important;
    font-size: 0.9em !important;
    max-width: 90% !important;
    min-width: 250px !important;
    left: 50% !important;
    top: 30% !important;
    transform: translate(-50%, -50%) !important;
    z-index: 1000 !important;
}

/* Hide webkit search controls (native blue cross) on mobile */
.searchbar-input::-webkit-search-decoration,
.searchbar-input::-webkit-search-cancel-button,
.searchbar-input::-webkit-search-results-button,
.searchbar-input::-webkit-search-results-decoration {
    -webkit-appearance: none;
    display: none;
}

.search::-webkit-search-decoration,
.search::-webkit-search-cancel-button,
.search::-webkit-search-results-button,
.search::-webkit-search-results-decoration {
    -webkit-appearance: none;
    display: none;
}

input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
    -webkit-appearance: none;
    display: none;
}

/* Mobile search highlight styles */
.search-highlight {
    background-color: #ffff00 !important;
    color: #000 !important;
    font-weight: normal !important; /* Normal weight, not bold */
    font-family: inherit !important;
    font-style: normal !important;
    text-decoration: none !important;
    border-radius: 2px;
    padding: 1px 2px;
    box-shadow: 0 1px 3px rgba(255, 255, 0, 0.3);
    display: inline !important;
    line-height: inherit !important;
}

.search-highlight.current {
    background-color: #ff6b35 !important;
    color: white !important;
    font-weight: normal !important;
    animation: highlightPulse 1.5s ease-in-out infinite;
}

@keyframes highlightPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* Input highlight overlay for precise word highlighting in input elements */
.input-highlight-overlay {
    background-color: #ffff00 !important;
    opacity: 0.8 !important; /* Slightly more opaque on mobile for better visibility */
    border-radius: 2px;
    box-shadow: 0 1px 3px rgba(255, 255, 0, 0.3);
    position: absolute !important;
    pointer-events: none !important;
    z-index: 1000 !important;
    /* Ensure it works with mobile zoom */
    transform-origin: top left;
}

.font-size-popup {
    right: 0;
    left: 8px;
    min-width: 150px;
}

.image-preview-content {
    max-width: 98%;
    max-height: 98%;
}

.image-preview-close {
    top: -40px;
    font-size: 32px;
}

.fa-paperclip.icon_attachment {
    font-size: 14px;
}

/* Mobile: ensure dropdowns aren't clipped by parent containers with overflow:hidden.
   Use fixed positioning for the mobile share menu so it sits above the layout and
   remains visible even when parent elements hide overflow. It will be centered
   horizontally by default and placed slightly above the bottom toolbar. */

.share-dropdown.mobile .share-menu {
    position: fixed !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    bottom: 64px !important; /* above the toolbar */
    top: auto !important;
    margin-top: 0 !important;
    z-index: 20000 !important;
    box-shadow: 0 8px 24px rgba(0,0,0,0.18) !important;
}

/* Mobile: ensure dropdowns aren't clipped by parent containers with overflow:hidden.
   Use fixed positioning for the mobile actions menu so it sits above the layout and
   remains visible even when parent elements hide overflow. It will be centered
   horizontally by default and placed slightly above the bottom toolbar. */
.actions-dropdown.mobile .actions-menu {
    position: fixed !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    bottom: 64px !important; /* above the toolbar */
    top: auto !important;
    margin-top: 0 !important;
    z-index: 20000 !important;
    box-shadow: 0 8px 24px rgba(0,0,0,0.18) !important;
}

/* Mobile responsive styles for emoji picker */
.emoji-picker {
    width: 300px !important;
    max-height: 350px !important;
    padding: 8px !important;
}

.emoji-grid {
    grid-template-columns: repeat(7, 1fr) !important;
    gap: 8px !important;
    padding: 3px 12px !important;
}

.emoji-item {
    font-size: 16px !important;
    width: 28px !important;
    height: 28px !important;
}

.emoji-category {
    padding: 10px 0 !important;
}