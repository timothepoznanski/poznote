/**
 * Notes - Note Entry Content
 *
 * Styles for contentEditable placeholders, note card/innernote layout,
 * textarea, noteentry content area, headings h1-h6, font inheritance
 * in headings, media embeds (img/iframe/video/audio), and Inter font
 * application with monospace exclusion selectors.
 */

/* ContentEditable Placeholder */
div[contentEditable=true]:empty:before {
    content: attr(data-ph);
    color: #bababa;
}

/* Placeholder lines around embedded Excalidraw diagrams */
.excalidraw-placeholder:empty:before {
    content: attr(data-ph);
    color: #999;
    font-style: italic;
    opacity: 0.6;
}

/* Exclude code blocks from automatic placeholder */
.code-block:empty:before,
.noteentry .code-block:empty:before {
    content: none !important;
}

/* Placeholder for code blocks - before and after */
p.code-block-placeholder-before[data-ph]:empty:before,
p.code-block-placeholder-after[data-ph]:empty:before {
    content: attr(data-ph);
    color: #999;
    font-style: italic;
    opacity: 0.6;
}

/* Note Card & Inner Note */
.notecard {
    margin-left: 1%;
    margin-right: 1%;
    margin-bottom: 20px;
    background: white;
    border-radius: 5px;
    font-family: 'Inter', sans-serif;
}

.innernote {
    padding-left: 2%;
    padding-top: 0px;
    padding-right: 2%;
    padding-bottom: 5px;
    font-family: 'Inter', sans-serif;
    display: flex;
    flex-direction: column;
}

/* Textarea */
textarea {
    padding: 0;
    padding-top: 30px;
    width: 100%;
    border: 0 none white;
    overflow: hidden;
    outline: none;
    resize: none;
    font-family: 'Inter', sans-serif;
}

textarea:focus {
    border-bottom: 1px;
    outline: 0;
}

/* Note Entry - base styles */
.noteentry {
    padding: 0;
    width: 100%;
    border: 0 none white;
    overflow-wrap: break-word;
    outline: none;
    resize: none;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}

.noteentry,
.noteentry *:not(.lucide):not([class*="lucide-"]):not(i):not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) {
    font-size: var(--note-font-size, 15px) !important;
}

.noteentry p,
.noteentry div {
    margin: 0;
    padding: 0;
}

.noteentry:focus {
    border-bottom: 1px;
    outline: 0;
}

/* Heading styles - higher specificity to override font-size */
.noteentry h1 {
    font-size: 2em !important;
    font-weight: bold;
    margin: 0.67em 0;
}

.noteentry h2 {
    font-size: 1.5em !important;
    font-weight: bold;
    margin: 0.83em 0;
}

.noteentry h3 {
    font-size: 1.17em !important;
    font-weight: bold;
    margin: 1em 0;
}

.noteentry h4 {
    font-size: 1em !important;
    font-weight: bold;
    margin: 1.33em 0;
}

.noteentry h5 {
    font-size: 0.83em !important;
    font-weight: bold;
    margin: 1.67em 0;
}

.noteentry h6 {
    font-size: 0.67em !important;
    font-weight: bold;
    margin: 2.33em 0;
}

/* Ensure headings inside <font> tags keep their size */
.noteentry font h1,
.noteentry font h2,
.noteentry font h3,
.noteentry font h4,
.noteentry font h5,
.noteentry font h6,
.noteentry h1 font,
.noteentry h2 font,
.noteentry h3 font,
.noteentry h4 font,
.noteentry h5 font,
.noteentry h6 font {
    font-size: inherit !important;
}

/* Media Embeds - images, iframes, video, audio */
.noteentry img,
.noteentry iframe {
    max-width: 100%;
    height: auto;
}

.noteentry img {
    content-visibility: auto;
    contain-intrinsic-size: 300px 200px;
    image-rendering: auto;
}

.noteentry iframe {
    aspect-ratio: 16 / 9;
    border: none;
}

/* Video embeds from attachments */
.noteentry video,
.noteentry .note-video-embed {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    background: #000;
    display: block;
    margin: 10px 0;
}

/* Audio player */
.noteentry .note-audio-embed {
    max-width: 280px;
    width: 100%;
    height: 54px;
    display: block;
    overflow: hidden;
    margin: 8px 0;
    border: none;
    border-radius: 8px;
    background: #f1f3f4;
}

@media screen and (max-width: 768px) {
    .noteentry .note-audio-embed {
        max-width: 240px;
    }
}

/* Font Application - Inter font */
/* Apply Inter to text elements, except in code blocks and monospace elements */
.noteentry p:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry div:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry ul:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry ol:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry li:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry b:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry strong:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry i:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry em:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry u:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry s:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry a:not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']),
.noteentry span:not(.code-block span):not([style*='Consolas']):not([style*='Monaco']):not([style*='Courier']):not([style*='monospace']):not([style*='Segoe UI Mono']) {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
}
