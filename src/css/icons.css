/**
 * Icon Styles
 * 
 * Icon filters and icon color customizations
 * for the Poznote application.
 */

/* Custom SVG icons for index.php */

/* When attachments exist, make the paperclip icon use its SVG and remove tint so it appears filled/blue */
.btn-attachment.has-attachments i.lucide-paperclip,
.btn-attachment.has-attachments .lucide-paperclip {
    color: #007DB8 !important;
}

/* Blue color for favorite star when it's marked as favorite - #007DB8 */
.toolbar-btn.btn-favorite.is-favorite i.lucide-star,
.toolbar-btn.btn-favorite.is-favorite .lucide-star,
.toolbar-btn.btn-share.is-shared i.lucide-cloud,
.toolbar-btn.btn-share.is-shared .lucide-cloud,
.toolbar-btn.btn-attachment.has-attachments i {
    color: #007DB8 !important;
    filter: none !important;
}

/* Blue color for markdown view mode toggle button */
.toolbar-btn.markdown-view-mode-btn i,
.toolbar-btn.markdown-view-mode-btn [class*="lucide-"] {
    color: #007DB8 !important;
    filter: none !important;
}

.toolbar-btn.markdown-view-mode-btn:hover i,
.toolbar-btn.markdown-view-mode-btn:hover [class*="lucide-"] {
    color: #007DB8 !important;
    filter: none !important;
    transform: scale(1.18);
}

/* Blue color for markdown help button */
.toolbar-btn.markdown-help-btn i,
.toolbar-btn.markdown-help-btn [class*="lucide-"] {
    color: #007DB8 !important;
    filter: none !important;
}

.toolbar-btn.markdown-help-btn:hover i,
.toolbar-btn.markdown-help-btn:hover [class*="lucide-"] {
    color: #007DB8 !important;
    filter: none !important;
    transform: scale(1.18);
}

/* Markdown split view button - normal icon color (not blue) */
.toolbar-btn.markdown-split-btn i,
.toolbar-btn.markdown-split-btn [class*="lucide-"] {
    /* Use default icon color */
}

.toolbar-btn.markdown-split-btn:hover i,
.toolbar-btn.markdown-split-btn:hover [class*="lucide-"] {
    transform: scale(1.18);
}

/* Add slash through icon when in split mode (active state) */
.toolbar-btn.markdown-split-btn.active {
    position: relative;
}

.toolbar-btn.markdown-split-btn.active::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 24px;
    height: 2px;
    background-color: #666;
    transform: translate(-50%, -50%) rotate(-45deg);
    pointer-events: none;
}

/* Apply default gray filter (lighter gray) to all icons not on hover */
/* Exclude folder icons with custom colors from the filter */
[class*="lucide-"]:not(.folder-icon[data-icon-color]) {
    filter: brightness(0) saturate(100%) invert(50%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(100%) contrast(85%);
    transition: transform 0.2s ease, filter 0.2s ease;
}

/* Keep sidebar icons crisp (avoid thick-looking filter) */
.sidebar-howto [class*="lucide-"],
.sidebar-home [class*="lucide-"],
.sidebar-settings [class*="lucide-"],
.sidebar-plus [class*="lucide-"] {
    filter: none !important;
    color: inherit;
    font-size: inherit;
}

[class*="lucide-"]:not(.folder-icon[data-icon-color]):hover {
    transform: scale(1.18);
    filter: brightness(0) saturate(100%) invert(27%) sepia(95%) saturate(1500%) hue-rotate(195deg) brightness(98%) contrast(102%);
}

/* Ensure search type button icons are not recolored by the global fa filter */
.searchbar-type-btn i,
.searchbar-type-btn i::before,
.searchbar-type-btn.active i,
.searchbar-type-btn.active i::before,
.searchbar-type-btn:hover i,
.searchbar-type-btn:hover i::before {
    filter: none !important;
}

/* Exception: Remove filter for slash command color icons (so they show their iconColor) */
.slash-command-item i[style*="color:"],
.slash-command-submenu i[style*="color:"] {
    filter: none !important;
}

/* Exception: Remove filter for save button when modified (to show red color) */
.toolbar-btn.save-modified .lucide-save {
    filter: none !important;
}

/* Exception: Remove filter for favorite/share/attachment (to show blue color) */
.toolbar-btn.is-favorite .lucide-star,
.toolbar-btn.is-shared .lucide-cloud,
.toolbar-btn.has-attachments .lucide-paperclip {
    filter: none !important;
}

.sidebar-plus {
    /* transform: scale(1.18); */
    filter: brightness(0) saturate(100%) invert(27%) sepia(95%) saturate(1500%) hue-rotate(195deg) brightness(98%) contrast(102%);
}

/* Make markdown toggle icons blue */
.markdown-edit-btn [class*="lucide-"],
.markdown-preview-btn [class*="lucide-"],
.markdown-view-mode-btn i {
    color: #007DB8 !important;
    filter: none !important;
}

.markdown-edit-btn:hover [class*="lucide-"],
.markdown-preview-btn:hover [class*="lucide-"],
.markdown-view-mode-btn:hover i {
    color: #007DB8 !important;
    filter: none !important;
    transform: scale(1.18);
}

/* Split view button - normal icon color */
.markdown-split-btn:hover i {
    transform: scale(1.18);
}

.lucide-bold {
    transition: transform 0.2s ease;
}

.lucide-bold:hover {
    transform: scale(1.2);
    color: #007DB8 !important;
}

/* Red color for cancel icon in mobile slash menu */
.slash-command-icon.lucide-times-circle,
.slash-command-item .slash-command-icon.lucide-times-circle {
    color: #ef4444 !important;
    font-weight: 400;
}

.lucide-plus {
    font-size: 1em !important;
}

.lucide-star {
    font-size: 0.95em !important;
}
