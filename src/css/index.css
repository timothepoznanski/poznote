/* CSS Variables for resizable layout */
:root {
    --left-col-width: 370px;
}

/* Placeholder color for tags input to match note title */
.name_tags input::placeholder {
    color: #bababa;
}
/* Hidden elements */
.hidden {
    display: none;
}

/* Utility: force hidden (used by JS to toggle visibility without inline styles) */
.hidden {
    display: none !important;
}

/* Hide mobile-only elements on desktop */
.mobile-home-btn {
    display: none !important;
}

/* Hide emoji buttons when emoji icons are disabled */
.emoji-hidden .btn-emoji {
    display: none !important;
}

/* Folder visibility: when not hidden, ensure folder headers and contents use block layout */
.folder-header {
    display: block;
}
.folder-content {
    display: block;
}

/* File upload styling */
.file-input-label {
    display: block;
    width: 160px;
    margin: 0 auto;
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 4px;
    padding: 6px 12px;
    text-align: center;
    cursor: pointer;
    position: relative;
    z-index: 1;
}

.file-input-hidden {
    display: none;
}

.accepted-types {
    font-size: 0.85em;
    color: #888;
    text-align: center;
    margin-top: 4px;
}

.spacer-18 {
    height: 18px;
}

.selected-filename {
    margin: 0 0 18px 0;
    font-size: 0.95em;
    color: #444;
    text-align: center;
    min-height: 1.5em;
}

/* Note list subline (created date & subheading) */
.note-subline {
    font-size: 0.95em; /* slightly smaller than normal */
    color: #6b7280;
    margin-top: -2px; /* space between title and subline */
    margin-bottom: 18px; /* same space between subline and note content */
    display: none; /* hidden by default */
}
.inline-subheading-input {
    font-size: 0.95em;
    padding: 4px 8px;
    border: 1px solid #d1d5db;
    border-radius: 4px;
    margin-left: 6px;
}
.btn-inline-edit, .btn-inline-save, .btn-inline-cancel {
    background: transparent;
    border: none;
    cursor: pointer;
    color: #6b7280;
    margin-left: 6px;
    font-size: 0.95em;
}
.btn-inline-save, .btn-inline-cancel {
    background: #f3f4f6;
    border-radius: 4px;
    padding: 4px 8px;
    color: #111827;
}
/* Make clickable subheading appear neutral (not blue/underlined) */
.subheading-link {
    color: inherit;
    text-decoration: none;
    cursor: pointer;
}
.note-subline .note-sub-sep { margin: 0 6px; color: #cbd5e1; }

/* When enabled via settings, show the created and/or location pieces */
body.show-note-created .note-subline,
body.show-note-subheading .note-subline { display: inline-block; }

/* If only one piece is enabled, ensure spacing is correct */
body:not(.show-note-created) .note-sub-created { display: none; }
body:not(.show-note-subheading) .subheading-link { display: none; }
/* Hide separator when created date is not shown */
body:not(.show-note-created) .note-sub-sep { display: none; }

/* Subheading placeholder styling */
.subheading-placeholder {
    color: #9ca3af;
    opacity: 0.7;
}
.subheading-placeholder:hover {
    opacity: 1;
}

/* Right-column title spacing adjustments */
.innernote h4 { margin: 0 0 8px 0; }
.innernote h4 .css-title { width: 100%; box-sizing: border-box; }
.workspace-list .action-btn {
    min-width: 140px;
    padding: 10px 16px;
    border-radius: 8px;
    font-size: 1rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.12s ease, box-shadow 0.12s ease;
    margin: 0; /* ensure uniform spacing controlled by gap on the container */
}

@font-face {
    font-family: 'Inter';
    src: url('../webfonts/Inter/static/Inter_24pt-Regular.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
}

@font-face {
  font-family: 'Inter';
  src: url('../webfonts/Inter/static/Inter_24pt-SemiBold.ttf') format('truetype');
  font-weight: 600;
  font-style: normal;
}


html, body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    color: rgb(55, 53, 47);
    overflow-x: hidden;
}

body {
    height: 100%;
}

/* Remove margins from h4 note title */
h4 {
    margin: 0 !important;
    padding: 0 !important;
}

form{
    margin:0px; 
    padding:0px;
}

/* LINKS */

a { color: #2E8CFA;  text-decoration: none; }

/* a:link { color: #2E8CFA; }
a:visited { color: #2E8CFA; }
a:hover { color: #2E8CFA; }
a:active { color: #2E8CFA; } */

.note-bottom-space { height: 30px; }

/* TOOLBAR VERTICAL MENU */

.note-edit-toolbar {
    position: relative;
}

/* Color palette popup (desktop) - same appearance as mobile palette */
.color-palette-popup {
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
    border-radius: 6px;
    background: transparent;
    padding: 6px 8px;
    z-index: 9999;
    opacity: 0;
    transform: translateY(-4px);
    transition: opacity 160ms ease, transform 160ms ease;
}
.color-palette-popup {
    background: #fff;
    border: 1px solid rgba(0,0,0,0.12);
    border-radius: 6px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
    padding: 8px;
    z-index: 9999;
    opacity: 0;
    transform-origin: top center;
    transition: opacity 140ms ease, transform 140ms ease;
}
.color-palette-popup.show {
    opacity: 1;
    transform: translateY(0);
}
.color-palette-popup .color-grid {
    display: flex;
    gap: 8px;
    align-items: center;
}
.color-item {
    border: none;
    background: transparent;
    padding: 6px;
    border-radius: 4px;
    cursor: pointer;
}
.color-item:focus { outline: 2px solid #4d90fe; }
.color-swatch {
    display: inline-block;
    width: 20px;
    height: 20px;
    border-radius: 4px;
}
.color-palette-popup.show { opacity: 1; transform: translateY(0); }
.color-palette-popup .color-grid {
    display: flex; gap: 10px; align-items: center; justify-content: center;
    padding: 8px 12px; background: rgba(255,255,255,0.98); border-radius: 10px;
}
.color-item { width: 28px; height: 16px; border-radius: 4px; border: none; cursor: pointer; padding: 0; display:inline-block; box-sizing: border-box; }
.color-item:focus { outline: 2px solid #007DB8; }
/* baseline removed - simplified palette */

/* caret removed - popup has no arrow */

.toolbar-vertical-menu {
    position: absolute;
    top: 100%;
    right: 0;
    background: white;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    min-width: 200px;
    padding: 8px 0;
    margin-top: 5px;
}

/* Font size popup (used by toolbar.js -> changeFontSize) */
.font-size-popup {
    position: absolute;
    top: calc(100% + 8px);
    right: 0;
    background: #ffffff;
    border: 1px solid #e6e6e6;
    border-radius: 8px;
    box-shadow: 0 8px 20px rgba(20,20,20,0.12);
    padding: 8px;
    z-index: 1002;
    min-width: 180px;
    max-width: 320px;
    opacity: 0;
    transform: translateY(-6px);
    transition: opacity 0.18s ease, transform 0.18s ease;
    display: flex;
    flex-direction: column;
    gap: 6px;
}
.font-size-popup.show {
    opacity: 1;
    transform: translateY(0);
}
.font-size-popup .font-size-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    padding: 8px 10px;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.12s ease, color 0.12s ease;
}
.font-size-popup .font-size-item:hover {
    background-color: #f6fbff;
}
.font-size-popup .size-label {
    font-size: 0.95rem;
    color: #333;
}
.font-size-popup .size-preview {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 36px;
    min-height: 28px;
    padding: 4px 8px;
    border-radius: 4px;
    border: 1px solid #eee;
    color: #222;
    background: #fafafa;
}
/* Map preview classes to approximate sizes (match JS size map) */
.font-size-popup .size-1 { font-size: 0.75rem; }
.font-size-popup .size-2 { font-size: 0.875rem; }
.font-size-popup .size-3 { font-size: 1rem; }
.font-size-popup .size-4 { font-size: 1.125rem; }
.font-size-popup .size-5 { font-size: 1.5rem; }
.font-size-popup .size-6 { font-size: 2rem; }
.font-size-popup .size-7 { font-size: 3rem; line-height: 1; padding: 2px 6px; }

.btn-settings {
    position: relative;
}

.btn-settings.active {
    background: rgba(0, 125, 184, 0.1) !important;
    color: #007DB8 !important;
}

/* Attachment indicators (use app blue instead of green) */
.btn-settings.has-attachments {
    color: #007DB8 !important;
}

.btn-settings.has-attachments:hover {
    color: #005a8a !important;
}

.btn-attachment.has-attachments i {
    /* adjust icon tint to match the blue color */
    filter: none !important;
    color: #007DB8 !important;
}

.btn-attachment.has-attachments:hover i {
    filter: none !important;
    color: #005a8a !important;
}

.dropdown-item.has-attachments i {
    color: #007DB8 !important;
}

/* LEFT COLUMN */


body {
    display: flex;
    flex-direction: row;
    height: 100vh;
    margin: 0;
    overflow-x: hidden !important;
    min-width: 0;
    min-height: 0;
}

.main-container {
    display: flex;
    width: 100%;
    height: 100vh;
}

#left_col {
    width: var(--left-col-width);
    min-width: 200px;
    max-width: 800px;
    height: 100vh;
    overflow-y: scroll;
    overflow-x: hidden;
    padding: 6px 16px 16px 16px;
    box-sizing: border-box;
    background: #f8f9fa;
    flex-shrink: 0;
    /* Hide scrollbars but keep scroll functionality for all screen sizes */
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;     /* Firefox */
}

/* Hide scrollbar for Chrome, Safari and Opera */
#left_col::-webkit-scrollbar {
    display: none;
}




/* Sidebar header and primary action */
.sidebar-header {
    /* padding: 6px 0 14px 0; */
    margin-bottom: 6px;
}
.sidebar-title-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
    padding: 6px 2px;
    position: relative; /* anchor dropdown menus inside the title row */
}
.sidebar-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: #1f2937; /* dark */
    display: flex;
    align-items: center;
    gap: 8px;
}
.workspace-burger-icon {
    font-size: 1.1rem;
    color: #6c757d;
    pointer-events: none;
}
.workspace-dropdown-icon {
    margin-left: 1px;
    font-size: 0.9rem;
    color: #6c757d;
    pointer-events: none;
    transition: transform 0.2s ease;
    position: relative;
    top: 2px;
}
.workspace-title-icon {
    width: 20px;
    height: 20px;
    vertical-align: middle;
    pointer-events: none;
}
.workspace-title-text { 
    vertical-align: middle;
    flex: 1;
}
.sidebar-title[role="button"] { cursor: pointer; }
.sidebar-title-actions { display: flex; align-items: center; gap: 6px; position: relative; }
.sidebar-gear { display: none; }
.sidebar-display { background: transparent; border: none; color: #007DB8; font-size: 1.3rem; cursor: pointer; padding: 6px; border-radius: 6px; }
.sidebar-tips { background: transparent; border: none; color: #007DB8; font-size: 1.3rem; cursor: pointer; padding: 6px; border-radius: 6px; }
.sidebar-settings { background: transparent; border: none; color: #007DB8; font-size: 1.3rem; cursor: pointer; padding: 6px; border-radius: 6px; position: relative; }
.sidebar-plus { background: transparent; border: none; color: #6c757d !important; font-size: 1.2rem; cursor: pointer; padding: 6px; border-radius: 6px; }

/* Hover and focus states for sidebar buttons */
.sidebar-display:hover,
.sidebar-settings:hover,
.sidebar-tips:hover,
.sidebar-plus:hover { background: rgba(0, 125, 184, 0.1); }

.sidebar-display:focus,
.sidebar-settings:focus,
.sidebar-tips:focus,
.sidebar-plus:focus { outline: 2px solid #007DB8; outline-offset: 2px; }

/* Réduire la taille des icônes Font Awesome dans la sidebar */
.sidebar-title-actions i,
.sidebar-title-actions [class*="fa-"],
.sidebar-display i,
.sidebar-display [class*="fa-"],
.sidebar-tips i,
.sidebar-tips [class*="fa-"],
.sidebar-settings i,
.sidebar-settings [class*="fa-"] {
    font-size: 0.7em !important;
}

/* Icône plus-circle un peu plus grande */
.sidebar-plus i,
.sidebar-plus [class*="fa-"],
.sidebar-plus .fa-plus-circle {
    font-size: 1em !important;
    color: #6c757d !important;
}

/* Update badge for sidebar buttons */
.sidebar-settings .update-badge {
    position: absolute;
    top: 0px;
    right: 0px;
    background: #ef4444;
    color: white;
    border-radius: 50%;
    width: 12px;
    height: 12px;
    font-size: 8px;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    animation: pulse 2s infinite;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    font-family: system-ui, -apple-system, sans-serif;
}
/* .sidebar-plus:hover { background: rgba(0,0,0,0.04); color: #005a8a; } /* Display background button plus on hover */

/* Align new note/folder rows with the search bar */
.sidebar-newnote-row { padding: 6px 0 8px 0; }
.sidebar-newfolder-row { padding: 6px 0 8px 0; }

.btn-new-note {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: #0b78e6; /* flat primary */
    color: #fff;
    border: none;
    padding: 0 14px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
    justify-content: center;
    font-size: 0.98rem;
    height: 40px; /* enforce same height as search */
}
.btn-new-note i { font-size: 16px; color: #fff; width:20px; height:20px; display:inline-flex; align-items:center; justify-content:center; }
/* .btn-new-note.mobile { padding: 10px; font-size: 0.95rem; } */
.btn-new-note:hover { filter: brightness(0.96); }

.btn-new-folder {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: #f7fafc; /* subtle light */
    color: #0b4da6;
    border: 1px solid #e6eef8;
    padding: 0 12px;
    border-radius: 8px;
    width: 100%;
    justify-content: center;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.98rem;
    height: 40px; /* enforce same height as search */
}
.btn-new-folder i { color: #0b4da6; font-size: 16px; width:20px; height:20px; display:inline-flex; align-items:center; justify-content:center; }
.btn-new-folder:hover { background: #f3f7fb; }

/* Make search bar full width of sidebar and align spacing with buttons */
.searchbar-row { margin-bottom: 8px; max-width: 100%; }
.searchbar-input-wrapper { width: 100%; }

/* Make the unified search placeholder French when shown in left column */

/* Folder header adjustments to match visual spacing */
.folder-header {
    /* margin-top: 6px; */
    /* padding: 6px 4px; */
    border-radius: 8px;
}
.folder-toggle { display:flex; align-items:center; gap:2px; cursor: pointer; }
.folder-name { font-weight:600; color:#111827; }
.folder-note-count { color:#6b7280; margin-left:6px; font-weight:400; }
.hide-folder-counts .folder-note-count { display: none; }

/* When folder counts are globally hidden, reveal them when the user hovers the folder
   or focuses it via keyboard for accessibility. Use opacity + transform for a smooth
   unobtrusive transition rather than abruptly toggling display. */
.hide-folder-counts .folder-note-count {
    /* keep them removed from layout by default */
    display: inline-block; /* ensure inline layout for transition */
    opacity: 0;
    transform: translateY(-2px) scale(0.98);
    transition: opacity 120ms ease, transform 120ms ease;
    pointer-events: none; /* avoid interfering with folder clicks */
}
.hide-folder-counts .folder-toggle:hover .folder-note-count,
.hide-folder-counts .folder-toggle:focus-within .folder-note-count,
.hide-folder-counts .folder-header:focus-within .folder-note-count,
.hide-folder-counts .folder-header:hover .folder-note-count {
    opacity: 1;
    transform: translateY(0) scale(1);
    pointer-events: auto;
}

/* For keyboard-only users, provide a visible focus outline on the folder-toggle */
.hide-folder-counts .folder-toggle:focus-within {
    outline: 2px solid rgba(59,130,246,0.18);
    border-radius: 6px;
}

/* Folder content / notes styling */
.note-in-folder { padding-left: 26px; display:block; }
.links_arbo_left { padding: 8px 10px; margin: 4px 0; }
.links_arbo_left .note-title { font-weight: 500; color: #1f2937; }

/* Hover effect: blue and bold title when hovering over a note */
.links_arbo_left:hover .note-title {
    color: #0b4da6 !important;
    font-weight: 600 !important;
    transition: color 0.2s ease, font-weight 0.2s ease;
}

/* Selected note style matching light blue band from screenshot */
.links_arbo_left.selected-note {
    background-color: transparent; /* remove blue background */
    /* keep layout consistent but remove rounded background */
    border-radius: 0;
    color: #0b4da6;
}
.links_arbo_left.selected-note .note-title { color: #0b4da6; font-weight:600; }

/* Folder actions icons keep small size */
.folder-actions i { margin-left: 12px; color:#6b7280; cursor:pointer; font-size: 1.2em; }
.folder-actions i:hover { color:#374151; }

/* Réduire les icônes Font Awesome dans folder-actions */
.folder-actions i[class*="fa-"],
.folder-actions [class*="fa-"] {
    font-size: 0.85em !important;
}

/* Dropdown menu for create button */
.dropdown-menu {
    position: absolute;
    background: white;
    border: 1px solid #d1d5db;
    border-radius: 6px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    min-width: 150px;
    padding: 4px 0;
    z-index: 10000;
}

.dropdown-item {
    padding: 8px 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    color: #374151;
    transition: background-color 0.15s ease;
}

.dropdown-item:hover {
    background-color: #f3f4f6;
}

.dropdown-item i {
    font-size: 0.9em;
    color: #6b7280;
    width: 16px;
}

.dropdown-item:hover i {
    color: #374151;
}

.resize-handle {
    width: 3px;
    height: 100vh;
    background: #f8f9fa;
    cursor: col-resize;
    position: relative;
    flex-shrink: 0;
    /* subtle divider line to match the mockup */
    border-right: 1px solid #ccc;

}

/* Separator after Favorites to visually separate important folders */
.favorites-separator {
    height: 8px;
    border-bottom: 1px solid #ccc; /* match left column right border */
    margin: 8px 6px;
}

/* Sidebar footer: CTA buttons pinned at bottom of left column */
.sidebar-footer {
    position: sticky;
    bottom: 16px;
    width: 100%;
    padding: 8px 0 0 0;
    box-sizing: border-box;
}
.sidebar-footer-inner {
    display: flex;
    gap: 8px;
    flex-direction: column; /* stack buttons vertically */
}
.sidebar-footer .btn-new-note, .sidebar-footer .btn-new-folder {
    display: none; /* deprecated: use unified create button */
}

.btn-create {
    width: 100%;
    height: 40px;
    border-radius: 8px;
    background: #007DB8;
    color: #fff;
    border: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 1rem;
    padding: 8px 12px;
    box-sizing: border-box;
    cursor: pointer;
}
.btn-create:focus { outline: none; box-shadow: 0 0 0 3px rgba(0,123,184,0.12); }
.create-caret { margin-left: 6px; font-size: 0.9rem; }
.create-menu {
    position: absolute;
    top: 100%;
    right: 0;
    background: #fff;
    border: 1px solid #e6eef8;
    box-shadow: 0 8px 24px rgba(15,120,230,0.08);
    border-radius: 8px;
    padding: 8px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    z-index: 60;
    min-width: 140px;
}

#header-create-menu {
    position: absolute;
    top: 100%;
    right: 0;
    background: white;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    min-width: 150px;
    padding: 8px 0;
    margin-top: 5px;
    display: none;
}

.create-menu-item {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    cursor: pointer;
    font-size: 14px;
    color: #333;
    border-bottom: 1px solid #f0f0f0;
    transition: background-color 0.2s;
    font-family: 'Inter', sans-serif;
    background: transparent;
    border: none;
    width: 100%;
    text-align: left;
}

.create-menu-item:last-child {
    border-bottom: none;
}

.create-menu-item:hover {
    background-color: #f8f9fa;
    color: #007DB8;
}
.create-menu-item {
    background: transparent;
    border: none;
    padding: 10px 12px;
    text-align: left;
    border-radius: 6px;
    cursor: pointer;
}
.create-menu-item:hover { background: #f6fbff; }

/* Enlarge icons in create menu */
.create-menu-item i {
    font-size: 20px;
    margin-right: 10px;
    color: #007DB8;
}

/* Override for Font Awesome icons in create menu */
.create-menu-item i[class*="fa-"],
.create-menu-item [class*="fa-"] {
    font-size: 18px !important;
}

/* LEFT HEADER */

.left-header {
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    /* padding: 0px 0px 13px 0px; */
    margin-bottom: 16px; /* space between workspace name and icons */
    /* border-bottom: 1px solid #e9ecef; */
}



.left-header-text {
    font-family: 'Inter', sans-serif;
    font-weight: 700;
    font-size: 1.5rem; /* workspace name size */
    color: #007DB8;
    letter-spacing: 0.5px;
}

/* RIGHT COLUMN */

#right_col {
    flex: 1;
    min-width: 400px;
    height: 100vh;
    background-color: #FFFFFF;
    overflow-y: scroll; /* Always show scrollbar */
    overflow-x: hidden; /* Disable horizontal scrolling */
    box-sizing: border-box;
}

/* Note header: contains only the toolbar */

.note-header {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    justify-content: flex-start;
    width: 100%;
    /* margin-bottom: 15px; */
    position: sticky;
    top: 0;
    z-index: 10;
    background: #fff;
    padding-top: 10px;
    padding-bottom: 10px;
    padding-left: 10px;
    padding-right: 10px;
    box-sizing: border-box;
    /* border-bottom: 1px solid #ccc; */
    gap: 8px;
}

.note-edit-toolbar {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    width: 100%;
    box-sizing: border-box;
    scrollbar-width: none;
    -ms-overflow-style: none;
    max-width: 100%;
    text-align: center;
    position: relative;
    order: 2;
}

.note-edit-toolbar::-webkit-scrollbar {
    display: none;
}

.note-header > #lastupdated {
    font-size: 0.95em;
    color: #888;
}

.toolbar-btn {
    background: transparent !important;
    border: none !important;
    border-radius: 5px;
    padding: 6px 8px;
    font-size: 1.4em;
    cursor: pointer;
    margin: 0 4px;
    transition: color 0.2s;
    outline: none;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    /* Fixed size to prevent layout shift */
    min-width: 38px;
    min-height: 38px;
    box-sizing: border-box;
}

/* Réduire la taille des icônes Font Awesome dans la toolbar */
.toolbar-btn i,
.toolbar-btn [class*="fa-"] {
    font-size: 0.75em !important;
}

/* Text formatting buttons: hidden by default, visible on selection */
.text-format-btn {
    display: none;
}

.text-format-btn.show-on-selection {
    display: inline-flex;
}

/* Note action buttons: visible by default, hidden during selection */
.note-action-btn {
    display: inline-flex;
}

/* Toolbar adjustment for desktop screens */
/* Use flex-wrap to allow toolbar buttons to wrap on multiple lines if needed */
.note-edit-toolbar {
    gap: 2px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    /* Fixed height based on button size: padding (6px*2) + font-size (1.4em ≈ ~22px) + gap = ~38px */
    min-height: calc(1.4em + 12px + 6px);
}

.note-action-btn.hide-on-selection {
    display: none;
}

.dropdown-menu {
    position: absolute;
    top: 100%;
    right: 0;
    background: white;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    min-width: 200px;
    z-index: 1000;
    overflow: hidden;
}

.dropdown-item {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    cursor: pointer;
    font-size: 14px;
    color: #333;
    border-bottom: 1px solid #f0f0f0;
    transition: background-color 0.2s;
    font-style: normal;
}

.dropdown-item:last-child {
    border-bottom: none;
}

.dropdown-item:hover {
    background-color: #f8f9fa;
}

.dropdown-item i {
    margin-right: 10px;
    width: 16px;
    text-align: center;
    color: #007DB8;
}

.workspace-menu {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    background-color: #fff;
    /* border: 1px solid #ddd; */
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    min-width: 180px;
    z-index: 1000;
    display: none;
    margin-top: 4px;
}

.workspace-menu-item {
    padding: 12px 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    transition: background-color 0.2s;
    border-bottom: 1px solid #f0f0f0;
    font-size: 14px;
}

.workspace-menu-item:last-child {
    border-bottom: none;
}

.workspace-menu-item:hover {
    background-color: #f8f9fa;
}

.workspace-menu-item.current-workspace {
    background-color: #e3f2fd;
    font-weight: 600;
    color: #007DB8;
}

.workspace-menu-item i {
    margin-right: 8px;
    font-size: 14px;
    width: 16px;
    text-align: center;
    color: #666;
}

.workspace-menu-item.current-workspace i {
    color: #007DB8;
}

.workspace-menu-divider {
    height: 1px;
    background-color: #e0e0e0;
    margin: 4px 0;
}



.note-header-spacer {
    width: 100%;
    height: 15px;
    background: #fff;
}

a.links_arbo_left, a.links_arbo_left:link, a.links_arbo_left:visited, a.links_arbo_left:hover, a.links_arbo_left:active {
    display: inline-block;
    width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    vertical-align: top;
    text-decoration: none;
    color: rgb(55, 53, 47);
    padding: 3px 6px 3px 0px; /* Réduction du padding vertical (6px → 3px) */
    border-radius: 8px;
    font-size: 14px;
    line-height: 1.2;
    font-weight: normal;
    box-sizing: border-box;
}

/* Specific rule for note title spans in all links */
a.links_arbo_left .note-title {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: block;
}

a.links_arbo_left.selected-note {
    background-color: transparent;
}

/* SEARCHBARS */

.searchbar-row {
    display: flex;
    align-items: center;
    width: 100%;
    position: relative;
}

.searchbar-input-wrapper {
    position: relative;
    width: 100%;
    flex: 1;
}

.searchbar-input {
    padding: 10px 12px 10px 44px;
    border-radius: 8px;
    border: 1px solid #d3d6db;
    background: #ffffff;
    font-size: 0.9em;
    transition: border-color 0.18s, box-shadow 0.18s;
    /* box-shadow: 0 0 0 1px #e6e6e6; */
    outline: none;
    width: 100%;
    min-width: 0;
    font-family: 'Inter', sans-serif !important;
    color: #6c7580;
    caret-color: #6c7580;
    height: 40px;
    box-sizing: border-box;
}

.searchbar-input:disabled {
    background-color: #f5f5f5;
    color: #999;
    cursor: not-allowed;
}

.searchbar-input::placeholder {
    color: #6c7580;
    opacity: 1;
    font-size: 1em;
}

.searchbar-input:focus {
    border-color: #b0b3b8;
    /* box-shadow: 0 0 0 2px #d3d6db; */
    outline: none;
}

.searchbar-icon-row {
    position: relative;
    flex: 1;
    display: flex;
    align-items: center;
}

.searchbar-icon {
    position: absolute;
    left: 16px;
    top: 50%;
    transform: translateY(-50%);
    color: #6c7580;
    font-size: 1.2em;
    pointer-events: none;
}

/* Icon box for search inside left column */

.searchbar-icon {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: #6b7280;
    font-size: 16px;
    width: 20px;
    height: 20px;
}

.searchbar-icon {
    position: absolute;
    left: 14px;
    right: auto;
    top: 50%;
    transform: translateY(-50%);
    color: #9aa3a8;
    /* allow clicks on the icon so JS listeners can attach */
    pointer-events: auto;
    z-index: 2;
    font-size: 1.05em;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Highlight a tag when it matches an active tag search */
.tag-highlight {
    background: #fff3b0; /* soft yellow */
    padding: 2px 6px;
    border-radius: 6px;
    box-shadow: inset 0 -1px 0 rgba(0,0,0,0.03);
    color: #2b2b2b;
}

.searchbar-desktop {
    margin-top: 12px;
    margin-bottom: 15px;
    padding: 0;
    background: none;
    border-radius: 0;
    box-shadow: none;
}

.searchbar-row {
    display: flex;
    align-items: center;
    gap: 0;
    position: relative;
    width: 100%;
    margin: 0 0 8px 0;
}

/* Folder filter clear buttons (hidden by default) */
/* #folder-filter-clear-mobile,
#folder-filter-clear-desktop {
    display: none;
} */

.searchbar-clear {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    background: none !important;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 0 4px;
    z-index: 3;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 36px;
    width: 36px;
    border-radius: 50%;
    transition: background 0.2s, color 0.2s;
}

.searchbar-clear .clear-icon {
    color: #d32f2f;
    font-size: 16px;
    font-weight: bold;
    line-height: 1;
}

.contains_forms_search
{
    width: 100%;
    margin: 12px 0 15px 0;
    text-align: center;
    box-sizing: border-box;
    /* display: flex; */
    /* justify-content: center; */
}

img {
    max-width:100%; /* To prevent screenshots from exceeding their container when they are too large */
}

/* Image resize wrapper and handle */
.image-resize-wrapper {
    position: relative;
    display: inline-block;
    max-width: 100%;
}

.image-resize-handle {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 20px;
    height: 20px;
    background: #007DB8;
    border: 2px solid white;
    border-radius: 4px 0 4px 0;
    cursor: nwse-resize;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    z-index: 100;
    transition: all 0.2s ease;
}

.image-resize-handle:hover {
    background: #005a8a;
    width: 24px;
    height: 24px;
}

.image-resize-handle i {
    color: white;
    font-size: 10px;
    pointer-events: none;
}

.notification-overlay {
    display: none;
    position: fixed;
    z-index: 999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
}

#notificationPopup {
    display: none;
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    padding: 16px 24px;
    color: #007DB8;
    background-color: #fff;
    border: 2px solid #007DB8;
    z-index: 1000;
    font-size: 1em;
    text-align: center;
    border-radius: 8px;
    box-shadow: 0 4px 16px rgba(0, 125, 184, 0.2);
    max-width: 400px;
    min-width: 200px;
}

/* Notification types */
#notificationPopup.notification-error {
    color: #dc3545;
    border-color: #dc3545;
    box-shadow: 0 4px 16px rgba(220, 53, 69, 0.2);
}

#notificationPopup.notification-warning {
    color: #007DB8;
    border-color: #007DB8;
    box-shadow: 0 4px 16px rgba(0, 125, 184, 0.2);
}

#notificationPopup.notification-success {
    color: #198754;
    border-color: #198754;
    box-shadow: 0 4px 16px rgba(25, 135, 84, 0.2);
}

/* Image menu styles (similar to settings menu) */
.image-menu {
    position: absolute;
    background: white;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    min-width: 160px;
    padding: 8px 0;
    display: block;
}

.image-menu-item {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    cursor: pointer;
    font-size: 14px;
    color: #333;
    border-bottom: 1px solid #f0f0f0;
    transition: background-color 0.2s;
    font-family: 'Inter', sans-serif;
}

.image-menu-item:last-child {
    border-bottom: none;
}

.image-menu-item:hover {
    background-color: #f8f9fa;
    color: #007DB8;
}

.image-menu-item i {
    margin-right: 10px;
    width: 16px;
    text-align: center;
    color: #007DB8;
}

/* Image border style */
img.img-with-border {
    border: 1px solid #cecece !important;
    padding: 18px !important;
    border-radius: 8px !important;
    box-sizing: border-box !important;
}

/* UPDATE NOTIFICATION STYLES */

.settings-menu-item {
    position: relative;
}

/* Update status styling */
/* #update-status, #mobileupdate-status- {
    display: block;
    margin-top: 2px;
    font-size: 0.75em;
    line-height: 1.2;
} */

/* Keyframe animations */
@keyframes slideInRight {
    from {
        right: -400px;
        opacity: 0;
    }
    to {
        right: 20px;
        opacity: 1;
    }
}

@keyframes slideOutRight {
    from {
        right: 20px;
        opacity: 1;
    }
    to {
        right: -400px;
        opacity: 0;
    }
}

/* MENU RIGHT */

.icon_download{
    color: #007DB8;
    font-size: 17px;
}

.note-icons-desktop {
    padding: 4px 11px;
    font-size: 17px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 25px;
    cursor: pointer;
    margin: 0 0 0 auto;
}

.icon_info{
    color: #007DB8;
    font-size: 1.1em;
}

.icon_save{
    color: #007DB8;
    font-size: 1.1em;
}

.note-tags-row {
    display: flex;
    align-items: center;
    overflow: visible;
    /* margin-bottom: 15px; */
    margin-top: 5px;
}

.fa-tag.icon_tag {
    font-size: 14px;
    margin-right: 14px;
    flex-shrink: 0;
    align-self: center;
    line-height: 1; /* avoid extra vertical spacing */
    cursor: pointer;
}

.fa-tag.icon_tag:hover {
    opacity: 0.7;
}

.fa-tag.icon_tag::before {
    font-family: "Font Awesome 5 Pro";
    font-weight: 300;
    content: "\f02c";
    font-style: normal;
    -moz-osx-font-smoothing: grayscale;
    -webkit-font-smoothing: antialiased;
    display: inline-block;
    font-variant: normal;
    text-rendering: auto;
    line-height: 1;
    font-size: 0.875em;
    vertical-align: middle;
} 

.name_tags {
    flex: 1;
    min-width: 0;
    overflow: visible;
    color: rgb(55, 53, 47) !important;
}

.name_tags * {
    color: rgb(55, 53, 47) !important;
}

/* Remove border on focus for tags input */
.name_tags input:focus {
    border: none !important;
    outline: none;
}

.add-margin {
    margin: 8px 5px;
    font-family: 'Inter', sans-serif !important;
    font-size: 15px;
}

/* Editable tags styling */
.editable-tags-container {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    align-items: center;
    min-height: 24px;
    border: 1px solid transparent;
    border-radius: 4px;
    padding: 4px;
    transition: border-color 0.2s ease;
    overflow: visible;
}

.clickable-tag-wrapper {
    display: inline-flex;
    align-items: center;
    background: #f0f4f8;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    transition: all 0.2s ease;
}

.clickable-tag-wrapper:hover {
    background: #e2e8f0;
    border-color: #cbd5e1;
}

.clickable-tag {
    color: #007DB8;
    padding: 4px 8px 4px 8px;
    font-size: 13px;
    cursor: pointer;
    display: inline-block;
    text-decoration: none;
    line-height: 1.2;
}

.clickable-tag:hover {
    color: #005a8a;
    text-decoration: none;
}

.clickable-tag:visited {
    color: #007DB8;
}

.clickable-tag:hover:visited {
    color: #005a8a;
}

.tag-delete-button {
    color: #94a3b8;
    padding: 4px 6px 4px 2px;
    font-size: 14px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.2s ease;
    line-height: 1;
}

.tag-delete-button:hover {
    color: #ef4444;
}

/* When a tag wrapper is highlighted, give the delete button a subtle yellow background and stronger contrast */
.clickable-tag-wrapper.tag-highlight {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 2px 6px;
    border-radius: 8px;
    background: #fff3b0;
}

.clickable-tag-wrapper.tag-highlight .clickable-tag {
    color: #2b2b2b;
}

.clickable-tag-wrapper.tag-highlight .tag-delete-button {
    background: rgba(0,0,0,0.06);
    border-radius: 4px;
    color: #7a3b00;
}

.tag-input {
    border: none;
    outline: none;
    background: transparent;
    padding: 4px 8px;
    font-size: 13px;
    font-family: 'Inter', sans-serif;
    color: #37352F;
    min-width: 60px;
    max-width: 150px;
    flex-shrink: 0;
    white-space: nowrap;
    overflow: hidden;
    resize: none;
}

.tag-input::placeholder {
    color: #bababa;
    font-style: italic;
}

.tag-input:focus {
    outline: none;
    background: rgba(0, 125, 184, 0.1);
    border-radius: 4px;
}

/* ATTACHMENTS ROW */

.note-attachments-row {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
    margin-top: 15px;
}

.fa-paperclip.icon_attachment {
    font-size: 14px;
    margin-right: 14px;
    flex-shrink: 0;
    /* color: #007DB8; */
    align-self: center;
    line-height: 1;
}

.note-attachments-list {
    flex: 1;
    min-width: 0;
    line-height: 1.4;
}

.attachment-link {
    color: #007DB8 !important;
    text-decoration: none;
    font-size: 14px;
    transition: color 0.2s;
    cursor: pointer;
    display: inline-block;
    margin: 2px 4px 2px 8px; /* left margin to match tag spacing */
    word-break: break-word;
}

/* Make the button wrapper for the paperclip visually neutral so only the icon shows */
.icon-attachment-btn {
    background: transparent;
    border: none;
    padding: 0;
    margin: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    line-height: 1;
}
.icon-attachment-btn:focus {
    outline: 2px solid rgba(0,125,184,0.25);
    outline-offset: 2px;
    border-radius: 4px;
}

.attachment-link:hover {
    color: #005a8b !important;
    text-decoration: underline;
}

.attachment-link:visited {
    color: #007DB8 !important;
}

/* MENU LEFT */

.newbutton[style], .list_tags[style] {
    text-align: center;
}

.newbutton[style] {
    cursor: pointer;
    margin-left: 8px;
}

.newbutton[style] .fa-times-circle {
    color: #d32f2f;
    font-size: 22px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.newbutton, .newfolderbutton, .list_tags, .settingsbutton {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    cursor: pointer;
    margin: 4px;
    color: #007DB8;
    font-size: 16px;
    border-radius: 4px;
    transition: background-color 0.2s, color 0.2s;
}

.newbutton:hover, .newfolderbutton:hover, .list_tags:hover, .settingsbutton:hover {
    background-color: rgba(0, 125, 184, 0.1);
    color: #005a8a;
}

/* Settings dropdown styles */
.settings-dropdown {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.settingsbutton {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    cursor: pointer;
    margin: 4px;
    color: #007DB8;
    font-size: 16px;
    border-radius: 4px;
    transition: background-color 0.2s, color 0.2s;
}

.settings-menu {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: white;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    min-width: 180px;
    padding: 8px 0;
    margin-top: 5px;
    display: none;
}

.settings-menu-item {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    cursor: pointer;
    font-size: 14px;
    color: #333;
    border-bottom: 1px solid #f0f0f0;
    transition: background-color 0.2s;
    font-family: 'Inter', sans-serif;
}

.settings-menu-item:last-child {
    border-bottom: none;
}

.settings-menu-item:hover {
    background-color: #f8f9fa;
    color: #007DB8;
}

.settings-menu-item i {
    margin-right: 10px;
    width: 16px;
    text-align: center;
    color: #007DB8;
}

.settings-menu-item .setting-status {
    margin-left: 8px;
    /* font-size: 0.85em; */
    vertical-align: baseline;
}

.settings-menu-item .setting-status.enabled {
    color: #28a745;
}

.settings-menu-item .setting-status.disabled {
    color: #dc3545;
}

.search:focus{
    border-bottom: 1px solid #32a1ce;
}

/* TRASH ICONS for main interface */

/* Share / Export dropdown styles */
.share-dropdown {
    position: relative;
    display: inline-block;
}

.share-menu {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: white;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 9999;
    min-width: 160px;
    padding: 8px 0;
    margin-top: 5px;
    display: none;
}

.share-menu-item {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    cursor: pointer;
    font-size: 14px;
    color: #333;
    border-bottom: 1px solid #f0f0f0;
    transition: background-color 0.2s;
    font-family: 'Inter', sans-serif;
}

.share-menu-item:last-child { border-bottom: none; }

.share-menu-item:hover { background-color: #f8f9fa; color: #007DB8; }

.share-menu-item i { 
    margin-right: 10px; 
    width: 16px; 
    text-align: center; 
    color: #007DB8; 
    width: 20px !important;
    font-size: 18px !important;
}

/* .share-dropdown.mobile .share-menu { min-width: 140px; padding: 6px 0; } */

/* Actions dropdown styles */
.actions-dropdown {
    position: relative;
    display: inline-block;
}

.actions-menu {
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: white;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 9999;
    min-width: 140px;
    padding: 8px 0;
    margin-top: 5px;
    display: none;
}

.actions-menu-item {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    cursor: pointer;
    font-size: 14px;
    color: #333;
    border-bottom: 1px solid #f0f0f0;
    transition: background-color 0.2s;
    font-family: 'Inter', sans-serif;
}

.actions-menu-item:last-child { border-bottom: none; }

.actions-menu-item:hover { background-color: #f8f9fa; color: #007DB8; }

.actions-menu-item i { 
    margin-right: 10px; 
    width: 16px; 
    text-align: center; 
    color: #007DB8; 
    width: 24px !important;
    font-size: 20px !important;
}

/* Make delete icon red in actions menu */
.actions-menu-item .fa-trash {
    color: #ff0000 !important;
    filter: none !important;
}

/* .actions-dropdown.mobile .actions-menu { min-width: 120px; padding: 6px 0; } */

.icon_trash {
    color: #007DB8;
}

.trashnotebutton {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    cursor: pointer;
    margin: 4px;
    color: #007DB8;
    font-size: 16px;
    border-radius: 4px;
    transition: background-color 0.2s, color 0.2s;
}

.trashnotebutton:hover {
    background-color: rgba(0, 125, 184, 0.1);
    color: #005a8a;
}

.logoutbutton {
    display: inline-block;
    width: 30px;
    cursor: pointer;
    height: 20px;
    margin: 5px;
    color: #dc3545;
    font-size: 15px;
}

.logoutbutton:hover {
    color: #c82333;
}

/* NOTE DISPLAY */

div[contentEditable=true]:empty:before {
        content:attr(data-ph);
        color: #bababa;
}

/* Exclure les blocs de code du placeholder automatique */
.code-block:empty:before,
.noteentry .code-block:empty:before {
        content: none !important;
}

.notecard{
    margin-left: 1%;
    margin-right: 1%;
    margin-bottom:20px;
    background: white;
    border-radius: 5px;
    font-family: 'Inter', sans-serif;
}

.innernote{
    padding-left: 2%;
    padding-top: 0px;
    padding-right: 2%;
    padding-bottom: 5px;
    font-family: 'Inter', sans-serif;
    display: flex;
    flex-direction: column;
}

textarea{
    padding: 0;
    padding-top: 30px; 
    width:100%;
    border: 0 none white;
    overflow: hidden;
    outline: none;
    resize: none;
    font-family: 'Inter', sans-serif;
}

textarea:focus{
    border-bottom: 1px;
    outline: 0;
}

.noteentry{
    padding: 0;
    /* padding-top: 8px;  */
    width:100%;
    border: 0 none white;
    overflow-wrap: break-word;
    outline: none;
    resize: none;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
    font-size: 15px;
}

/* Apply Inter to text elements, except in code blocks */
.noteentry p,
.noteentry div,
.noteentry ul,
.noteentry ol,
.noteentry li,
.noteentry b,
.noteentry strong,
.noteentry i,
.noteentry em,
.noteentry u,
.noteentry s,
.noteentry a,
.noteentry span:not(.code-block span) {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji' !important;
}

.noteentry:focus{
    border-bottom: 1px;
    outline: 0;
}

/* CODE BLOCKS */

/* Simplified style for code blocks */
.code-block, 
pre.code-block,
.noteentry pre {
    font-family: "Segoe UI Mono", "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "Courier New", monospace !important;
    background-color: #f8f8f8 !important;
    /* border: 1px solid #e1e1e1; */
    border-radius: 4px;
    padding: 20px 20px;
    margin: 8px 0;
    color: #333;
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-x: auto;
    font-size: inherit; /* inherit font size from parent (.noteentry) */
    position: relative;
}

/* Ensure code blocks have the correct margins even without a wrapper */
.code-block, pre.code-block, .noteentry pre {
    margin: 0 !important;
    padding: 30px 30px !important;
    /* border-radius: 6px; */
    background: #F8FAFC !important;
    border: 1px solid #e9ecef;
    overflow-x: auto;
    position: relative;
    width: 100%;
    box-sizing: border-box;
}

/* Copy icon for code blocks */
.code-block-copy-btn,
pre.code-block .code-block-copy-btn,
.noteentry pre .code-block-copy-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 28px;
    height: 28px;
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid #e1e4e8;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 1;
    transition: opacity 0.2s ease, background 0.15s ease, transform 0.1s ease;
    z-index: 10;
    padding: 0;
    font-size: 14px;
    color: #586069;
}

.code-block-copy-btn:hover {
    background: #f0f0f0;
    color: #24292e;
    transform: scale(1.05);
}

.code-block-copy-btn:active {
    transform: scale(0.95);
}

.code-block-copy-btn.copied {
    background: #28a745;
    color: white;
    border-color: #28a745;
}

.code-block-copy-btn svg {
    width: 14px;
    height: 14px;
}

/* Additional specific rule to ensure padding is applied */
.noteentry pre, pre.code-block, .code-block {
    padding: 30px !important;
}



/* Code inline */
code {
    font-family: "Segoe UI Mono", "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "Courier New", monospace !important;
    background-color: #f4f4f4;
    padding: 2px 4px;
    border-radius: 3px;
    color: #333;
}

/* Force same font for all elements with inline styles in code blocks */
pre span[style],
code span[style],
.noteentry pre span[style],
.noteentry code span[style],
.noteentry pre *[style],
.noteentry code *[style] {
    font-family: "Segoe UI Mono", "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "Courier New", monospace !important;
}

/* Force same font for all formatting elements in code blocks */
pre b, pre strong, pre i, pre em, pre u, pre s, pre span,
code b, code strong, code i, code em, code u, code s, code span,
.code-block b, .code-block strong, .code-block i, .code-block em, .code-block u, .code-block s, .code-block span,
.noteentry pre b, .noteentry pre strong, .noteentry pre i, .noteentry pre em, .noteentry pre u, .noteentry pre s, .noteentry pre span,
.noteentry code b, .noteentry code strong, .noteentry code i, .noteentry code em, .noteentry code u, .noteentry code s, .noteentry code span,
.noteentry .code-block b, .noteentry .code-block strong, .noteentry .code-block i, .noteentry .code-block em, .noteentry .code-block u, .noteentry .code-block s, .noteentry .code-block span {
    font-family: "Segoe UI Mono", "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "Courier New", monospace !important;
    font-size: inherit; /* inherit font size from parent */
}

/* Préserver le background gris même avec du surlignage dans les blocs de code */
/* Simple and effective solution: background override for highlighted elements */
pre *[style*="background"],
code *[style*="background"],
.code-block *[style*="background"],
.noteentry pre *[style*="background"],
.noteentry code *[style*="background"],
.noteentry .code-block *[style*="background"] {
    background: linear-gradient(rgba(255, 255, 0, 0.4), rgba(255, 255, 0, 0.4)), #f4f4f4 !important;
    font-family: "Segoe UI Mono", "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "Courier New", monospace !important;
    font-size: inherit; /* inherit font size from parent */
}

/* Force la même police pour les éléments avec couleur dans les blocs de code */
pre *[style*="color"],
code *[style*="color"],
.code-block *[style*="color"],
.noteentry pre *[style*="color"],
.noteentry code *[style*="color"],
.noteentry .code-block *[style*="color"] {
    font-family: "Segoe UI Mono", "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "Courier New", monospace !important;
    font-size: inherit; /* inherit font size from parent */
}

/* Style plugin code block (optionnel, garder la taille et couleur si besoin) */
.noteentry span[style*='Consolas'],
.noteentry span[style*='Consolas'] *,
.noteentry span[style*='Consolas'] b,
.noteentry span[style*='Consolas'] strong,
.noteentry span[style*='Consolas'] i,
.noteentry span[style*='Consolas'] em,
.noteentry span[style*='Consolas'] u,
.noteentry span[style*='Consolas'] s {
    font-family: "Segoe UI Mono", "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "Courier New", monospace !important;
    font-size: inherit; /* inherit font size from parent */
    font-style: normal !important;
    font-weight: normal !important;
    color: #333 !important;
}

/* OTHERS */

/* #pxbetweennotes {
    height: 0px;
} */

input {
    width:100%;
    border:0px;
    text-overflow: ellipsis;
}

input[type="checkbox"], 
input[type="radio"] {
    width: auto;
}

.css-title {
    margin-top: 15px;
    margin-bottom: 20px;
    margin-left:-3px;
    font-size: 24px;
    font-weight: 600;
    color: #37352F;
    font-family: 'Inter', sans-serif;
}

.css-title:focus {
    border: none !important;
    outline: none;
    box-shadow: none;
}

hr {
    margin:0;
    border-top: 1px solid #ccc
}

/* LAST UPDATED AND CREATED DATES */

.lastupdated {
    float: none;
    margin-right: auto;
    margin-left: 0;
    font-size: 14px;
    font-family: 'Inter' !important;
    font-style: italic;
    font-weight: 400;
    margin-top: 7px;
    color: rgb(51,51,51) !important;
}

.toolbar-btn.save-modified {
    background: transparent !important;
    border: none !important;
    /* animation: pulse-save 2s infinite; */
}

/* Animation de pulsation pour le bouton save modifié */
@keyframes pulse-save {
    0% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(229, 57, 53, 0.4);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 0 0 4px rgba(229, 57, 53, 0.2);
    }
    100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(229, 57, 53, 0.0);
    }
}

/* Animation pulse for update badge */
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

/* Quand save est modifié, changer l'icône et la garder rouge */
.toolbar-btn.save-modified i.fa-save {
    color: #ff0000 !important;
}
.toolbar-btn.save-modified:hover i.fa-save,
.toolbar-btn.save-modified:focus i.fa-save {
    color: #ff0000 !important;
}
/* Pour l'icône save normale, couleur gris foncé par défaut */
.toolbar-btn:not(.save-modified) i.fa-save {
    color: inherit;
}

.toolbar-btn i.fa-palette,
.toolbar-btn i.fa-fill-drip {
    color: inherit !important;
}

/* Couleurs par défaut des icônes */
.toolbar-btn i.fa-palette {
    color: #ff2222;
}

.toolbar-btn i.fa-fill-drip {
    color: #ffe066;
}

.toolbar-btn:hover i.fa-palette,
.toolbar-btn:focus i.fa-palette {
    color: #ff2222 !important;
}

.toolbar-btn:hover i.fa-fill-drip,
.toolbar-btn:focus i.fa-fill-drip {
    color: #ffe066 !important;
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* Styles pour les cases à cocher dans les notes */
.noteentry label {
    user-select: none;
    margin: 0 !important;
    padding: 0 !important;
}

.noteentry label span[contenteditable="true"] {
    outline: none;
    border: none;
    user-select: text;
    cursor: text;
    white-space: nowrap;
    display: inline-block;
    min-width: 20px;
}

.noteentry label span[contenteditable="true"]:focus {
    background-color: transparent;
    border-radius: 0;
}

.noteentry label span[contenteditable="true"]:empty:before {
    content: "Type your task here";
    color: #999;
    font-style: italic;
}

/* FOLDER STYLES */

.folder-header {
    margin-bottom: 0px; /* Suppression de l'espace entre les dossiers */
    cursor: pointer;
    border-radius: 8px;
    transition: background-color 0.2s;
}

.folder-header.selected-folder {
    background-color: transparent;
}

.folder-header.drag-over {
    background-color: rgba(0, 125, 184, 0.1);
    border: 2px dashed #007DB8;
    box-shadow: 0 0 8px rgba(0, 125, 184, 0.3);
}

.folder-toggle {
    display: flex;
    align-items: center;
    padding: 8px 6px;
    cursor: pointer;
    border-radius: 8px;
    background-color: transparent;
    transition: background-color 0.2s;
    user-select: none;
    position: relative;
    width: 100%;
}

.folder-toggle:hover {
    background-color: transparent;
}

.folder-icon {
    color: #b0b0b0;
    margin-right: 8px;
    transition: transform 0.2s;
    align-content: center;
}

/* Réduire les icônes dans les dossiers (Trash, Tags, Favorites) */
.fa-trash.folder-icon,
.fa-tags.folder-icon,
.fa-star-light.folder-icon {
    font-size: 0.8em !important;
}

.folder-name {
    font-size: 14px;
    font-weight: 600;
    color: rgb(55, 53, 47);
    flex: 0 0 auto;
    min-width: 0;
}

.folder-note-count {
    font-size: 12px;
    color: #999;
    font-weight: 300;
    margin-left: 8px;
    flex: 0 0 auto;
}

.folder-actions {
    /* Keep the actions container visible so a single button can be shown
       even when other buttons are hidden. Individual icons are hidden by
       default instead (see .folder-actions i below). */
    opacity: 1;
    transition: opacity 0.2s;
    margin-left: auto;
    flex: 0 0 auto;
}

/* Hide individual action icons by default (show on hover) */
.folder-actions i {
    opacity: 0;
    transition: opacity 0.12s ease-in-out, color 0.12s;
    pointer-events: none;
}

/* Reveal icons on folder hover by default */
.folder-toggle:hover .folder-actions i {
    opacity: 1;
    pointer-events: auto;
}

/* When folder actions are set to always visible, show them always */
.folder-actions-always-visible .folder-actions i {
    opacity: 1;
    pointer-events: auto;
}

/* More specific selector to ensure actions are visible even if other rules
   target the same elements. Placed after the default rules so it wins by
   cascade without relying on !important. */
body.folder-actions-always-visible .folder-toggle .folder-actions i {
    opacity: 1;
    pointer-events: auto;
}



/* search-only hiding to avoid interfering with general hidden class */
.search-hidden { display: none !important; }

.folder-edit-btn, .folder-delete-btn, .folder-empty-btn, .folder-move-files-btn {
    color: #007DB8;
    margin-left: 8px;
    cursor: pointer;
    border-radius: 4px;
}



/* Change button background color */
/* .folder-edit-btn:hover {
    background-color: rgba(0, 125, 184, 0.2);
} */

/* Hide edit button for default folder to prevent renaming */
.default-folder .folder-edit-btn { display: none !important; }

/* Change button background color */
/* .folder-delete-btn:hover {
    background-color: rgba(220, 53, 69, 0.2);
    color: #dc3545;
} */

/* Change button background color */
/* .folder-empty-btn:hover {
    background-color: rgba(255, 193, 7, 0.2);
    color: #ffc107;
} */

/* Change button background color */
/* .folder-move-files-btn:hover {
    background-color: rgba(0, 125, 184, 0.2);
    color: #007DB8;
} */

.folder-content {
    margin-left: 29px;
    margin-bottom: 5px; /* Reduce space below each folder */
}

.note-in-folder {
    margin-bottom: 0px !important; /* Remove space between notes */
    position: relative;
    display: flex !important;
    align-items: center !important;
    padding-left: 6px !important; /* Réduction du padding pour récupérer l'espace */
    transition: padding-left 0.2s;
}

.note-in-folder a.links_arbo_left {
    display: block !important;
    position: relative !important;
}

.note-in-folder a.links_arbo_left .note-title {
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    display: block !important;
    margin-left: 0px !important; /* Recover space from removed icon */
    transition: margin-left 0.2s ease; /* Smooth animation */
}

/* On hover, keep title on the left (no change) */
.note-in-folder:hover a.links_arbo_left .note-title {
    margin-left: 0px !important; /* Stay on the left */
}

/* Drag and drop styles for notes */
.note-in-folder a.links_arbo_left[draggable="true"] {
    cursor: grab;
}

.note-in-folder a.links_arbo_left[draggable="true"]:active {
    cursor: grabbing;
}

.note-in-folder a.links_arbo_left.dragging {
    opacity: 0.5;
    transform: rotate(2deg);
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    line-height: 1;
    margin-top: -5px;
    cursor: pointer;
}

.close:hover,
.close:focus {
    color: #333;
    text-decoration: none;
}

.folders-list {
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid #e0e0e0;
    border-radius: 4px;
    background-color: #fafafa;
    margin-top: 8px;
}

.folder-item {
    padding: 8px 12px;
    border-bottom: 1px solid #e0e0e0;
    font-size: 13px;
    color: #333;
    display: flex;
    align-items: center;
}

.folder-item:last-child {
    border-bottom: none;
}

.folder-item:hover {
    background-color: #f0f0f0;
}

.folder-item i {
    margin-right: 8px;
    color: #666;
    width: 12px;
}

 

.suggested-folder-option {
    display: inline-flex;
    align-items: center;
    padding: 6px 12px;
    background-color: #f5f5f5;
    border: 1px solid #e0e0e0;
    border-radius: 20px;
    cursor: pointer;
    font-size: 13px;
    color: #333;
    transition: all 0.2s;
    white-space: nowrap;
}

.suggested-folder-option:hover {
    background-color: #007DB8;
    color: white;
    border-color: #007DB8;
}

.suggested-folder-option.selected {
    background-color: #007DB8;
    color: white;
    border-color: #007DB8;
}

.suggested-folder-option i {
    margin-right: 6px;
    font-size: 12px;
}

.folder-option {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    border-bottom: 1px solid #e0e0e0;
    cursor: pointer;
    transition: background-color 0.2s;
    font-size: 14px;
    color: #333;
}

.folder-option:last-child {
    border-bottom: none;
}

.folder-option:hover {
    background-color: #f0f6ff;
}

.folder-option.selected {
    background-color: #007DB8;
    color: white;
}

.folder-option.selected:hover {
    background-color: #005a8a;
}

.folder-option i {
    margin-right: 10px;
    width: 16px;
    color: #666;
    flex-shrink: 0;
}

.folder-option.selected i {
    color: white;
}

.folder-name {
    color: rgb(55, 53, 47);
}

.folder-note-count {
    color: #6b7280;
}

/* Create folder option styling */
.create-folder-option {
    background-color: #f8f9ff !important;
    border: 1px dashed #007DB8 !important;
    margin: 5px 0;
    border-radius: 4px;
}

.create-folder-option:hover {
    background-color: #e8f0ff !important;
    border-color: #0056b3 !important;
}

.create-folder-option .folder-name {
    color: #007DB8;
    font-weight: 500;
}

.create-folder-option i {
    color: #007DB8 !important;
}

/* Search highlight styles */
.search-highlight {
    background-color: #ffff00 !important;
    color: #000 !important;
    font-weight: normal !important; /* Normal weight, not bold */
    font-family: inherit !important;
    font-style: normal !important;
    text-decoration: none !important;
    border-radius: 2px;
    padding: 1px 2px;
    box-shadow: 0 1px 3px rgba(255, 255, 0, 0.3);
    display: inline !important;
    line-height: inherit !important;
}

.search-highlight.current {
    background-color: #ff6b35 !important;
    color: white !important;
    font-weight: normal !important;
    animation: highlightPulse 1.5s ease-in-out infinite;
}

@keyframes highlightPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* Input highlight overlay for precise word highlighting in input elements */
.input-highlight-overlay {
    background-color: #ffff00 !important;
    opacity: 0.7;
    border-radius: 2px;
    box-shadow: 0 1px 3px rgba(255, 255, 0, 0.3);
}

/* Note Loading State Styles */
.note-loading-state {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 300px;
    flex-direction: column;
}

.loading-spinner {
    text-align: center;
    color: #666;
}

.loading-spinner i {
    font-size: 2em;
    margin-bottom: 15px;
    color: #007bff;
}

.loading-spinner p {
    margin: 0;
    font-size: 1.1em;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.fa-spin {
    animation: spin 2s linear infinite;
}

/* Smooth transition for note selection */
.links_arbo_left {
    transition: background-color 0.2s ease, border-left 0.2s ease;
}

.links_arbo_left.selected-note {
    background-color: transparent !important;
    border-left: none !important;
}

/* Custom SVG icons for index.php */

/* spin helper */
.fa-spin { -webkit-animation: fa-spin 2s infinite linear; animation: fa-spin 2s infinite linear; }
@-webkit-keyframes fa-spin { 0% { -webkit-transform: rotate(0deg); } 100% { -webkit-transform: rotate(359deg); } }
@keyframes fa-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(359deg); } }

/* When attachments exist, make the paperclip icon use its SVG and remove tint so it appears filled/blue */
.btn-attachment.has-attachments i.fa-paperclip,
.btn-attachment.has-attachments .fa-paperclip {
  color: #007DB8 !important;
}

/* Blue color for favorite star when it's marked as favorite - #007DB8 */
.toolbar-btn.btn-favorite.is-favorite i.fa-star-light,
.toolbar-btn.btn-favorite.is-favorite .fa-star-light {
  color: #007DB8 !important;
}

/* Blue color when a note is shared publicly */
.toolbar-btn.btn-share.is-shared i.fa-share-nodes,
.toolbar-btn.btn-share.is-shared .fa-share-nodes {
  color: #007DB8 !important;
}

/* Blue color for split view (always blue, active or not) */
.toolbar-btn.markdown-split-view-btn i.fa-columns,
.toolbar-btn.markdown-split-view-btn .fa-columns {
  color: #007DB8 !important;
}

/* Blue color for markdown view mode toggle button */
.toolbar-btn.markdown-view-mode-btn i,
.toolbar-btn.markdown-view-mode-btn [class*="fa-"] {
  color: #007DB8 !important;
  filter: none !important;
}

.toolbar-btn.markdown-view-mode-btn:hover i,
.toolbar-btn.markdown-view-mode-btn:hover [class*="fa-"] {
  color: #007DB8 !important;
  filter: none !important;
  transform: scale(1.18);
}

/* Font Awesome icon customizations */
.fa-caret-down::before { content: "\f0d7"; }
.fa-share-nodes::before { content: "\f1e0"; }
.fa-smile::before { content: "\f118"; }
.fa-folder::before { content: "\f07b"; }
.fa-folder-open::before { content: "\f07c"; }
.fa-edit::before { content: "\f044"; }
.fa-download::before { content: "\f019"; }
.fa-maximize::before { content: "\f31e"; }
.fa-expand::before { content: "\f065"; }
.fa-trash::before { content: "\f2ed"; }
.fa-save::before { content: "\f0c7"; }
.fa-link::before { content: "\f0c1"; }
.fa-unlink::before { content: "\f127"; }
.fa-paperclip::before { content: "\f0c6"; }
.fa-minus::before { content: "\f068"; }
.fa-info-circle::before { content: "\f05a"; }
.fa-search::before { content: "\f002"; }
.fa-spinner::before { content: "\f110"; }
.fa-star-light::before { content: "\f005"; }
.fa-star::before { content: "\f005"; }
.fa-layer-group::before { content: "\f5fd"; }
.fa-cog::before { content: "\f013"; }
.fa-eye::before { content: "\f06e"; }
.fa-columns::before { content: "\f0db"; }
.fa-lightbulb::before { content: "\f0eb"; }
.fa-video::before { content: "\f03d"; }
.fa-plus::before { content: "\f067"; }
.fa-list-check::before { content: "\f0ae"; }
.fa-image::before { content: "\f03e"; }
.fa-tags::before { content: "\f02c"; }
.fa-border-outer::before { content: "\f851"; }
.fa-code::before { content: "\f121"; }
.fa-share::before { content: "\f064"; }
.fa-arrows-up-down::before { content: "\f07d"; }
.fa-arrows-h::before { content: "\f07e"; }
.fa-sort::before { content: "\f0dc"; }
.fa-mobile::before { content: "\f3cd"; }
.fa-file-import::before { content: "\f56f"; }
.fa-moon::before { content: "\f186"; }
.fa-bolt::before { content: "\f0e7"; }
.fa-markdown::before { content: "\f60f"; }
.fa-home::before { content: "\f015"; }
.fa-bold::before { content: "\f032"; }
.fa-italic::before { content: "\f033"; }
.fa-underline::before { content: "\f0cd"; }
.fa-eraser::before { content: "\f12d"; }
.fa-strikethrough::before { content: "\f0cc"; }
.fa-palette::before { content: "\f53f"; }
.fa-paint-brush::before { content: "\f1fc"; }
.fa-fill-drip::before { content: "\f576"; }
.fa-list-ul::before { content: "\f0ca"; }
.fa-list-ol::before { content: "\f0cb"; }
.fa-table::before { content: "\f0ce"; }
.fa-text-height::before { content: "\f034"; }
.fa-code::before { content: "\f121"; }
.fa-terminal::before { content: "\f120"; }
.fa-tag::before { content: "\f02b"; }
.fa-tags::before { content: "\f02c"; }
.fa-sign-out-alt::before { content: "\f2f5"; }
.fa-sync-alt::before { content: "\f2f1"; }
.fa-github::before { content: "\f09b"; }
.fa-globe::before { content: "\f0ac"; }
.fa-upload::before { content: "\f093"; }
.fa-arrow-left::before { content: "\f060"; }
.fa-info::before { content: "\f129"; }
.fa-file-alt::before { content: "\f15c"; }
.fa-plus::before { content: "\f067"; }
.fa-plus-circle::before { content: "\f055"; }
.fa-calendar-alt::before { content: "\f073"; }
.fa-code-branch::before { content: "\f126"; }
.fa-map-marker-alt::before { content: "\f3c5"; }
.fa-user::before { content: "\f007"; }
.fa-hashtag::before { content: "\f292"; }
.fa-check-light-full::before { content: "\f00c"; }
.fa-align-left::before { content: "\f036"; }
.fa-copy::before { content: "\f0c5"; }
.fa-trash-restore-alt::before { content: "\f2ea"; }
.fa-grip-vertical::before { content: "\f58e"; }

.fa-caret-down,
.fa-mobile,
.fa-border-outer,
.fa-paint-brush,
.fa-share-nodes,
.fa-smile,
.fa-folder,
.fa-folder-open,
.fa-edit,
.fa-download,
.fa-maximize,
.fa-expand,
.fa-trash,
.fa-save,
.fa-link,
.fa-unlink,
.fa-paperclip,
.fa-minus,
.fa-info-circle,
.fa-search,
.fa-spinner,
.fa-star-light,
.fa-star,
.fa-layer-group,
.fa-cog,
.fa-eye,
.fa-columns,
.fa-home,
.fa-bold,
.fa-italic,
.fa-underline,
.fa-eraser,
.fa-strikethrough,
.fa-palette,
.fa-fill-drip,
.fa-list-ul,
.fa-list-ol,
.fa-table,
.fa-text-height,
.fa-code,
.fa-terminal,
.fa-tag,
.fa-tags,
.fa-sign-out-alt,
.fa-sync-alt,
.fa-upload,
.fa-arrow-left,
.fa-info,
.fa-file-alt,
.fa-plus,
.fa-plus-circle,
.fa-calendar-alt,
.fa-code-branch,
.fa-map-marker-alt,
.fa-user,
.fa-lightbulb,
.fa-hashtag,
.fa-check-light-full,
.fa-align-left,
.fa-copy,
.fa-trash-restore-alt,
.fa-grip-vertical,
.fa-video,
.fa-plus,
.fa-list-check,
.fa-image,
.fa-tags,
.fa-code,
.fa-share,
.fa-arrows-up-down,
.fa-arrows-h,
.fa-sort,
.fa-mobile,
.fa-file-import,
.fa-moon {
  font-family: "Font Awesome 5 Pro";
  font-weight: 300;
  font-style: normal;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  display: inline-block;
  font-variant: normal;
  text-rendering: auto;
  line-height: 1;
  font-size: 0.875em;
  vertical-align: middle;
}

.fa-github,
.fa-markdown {
  font-family: "Font Awesome 5 Brands";
  font-weight: 400;
  font-style: normal;
  font-size: 0.875em !important;
}

.fa-globe {
  font-family: "Font Awesome 5 Free";
  font-weight: 900;
}

.fa-plus {
  font-size: 1em !important;
}

.fa-star-light {
  font-size: 0.95em !important;
}

.fa-bold {
  transition: transform 0.2s ease;
}

.fa-bold:hover {
  transform: scale(1.2);
  color: #007DB8 !important;
}

/* General rule for any input that might have search type */
input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
    -webkit-appearance: none;
    display: none;
}

/* EMOJI PICKER STYLES */

.emoji-picker {
    position: fixed;
    background: white;
    border: 1px solid #ddd;
    /* border-radius: 12px; */
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    width: 360px;
    max-height: 500px;
    overflow-y: auto;
    font-family: 'Inter', sans-serif;
    box-sizing: border-box;
    padding: 10px;
}

.emoji-category {
    padding: 15px 0;
    border-bottom: 1px solid #f0f0f0;
    width: 100%;
}

.emoji-category:last-child {
    border-bottom: none;
}

.emoji-grid {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
    gap: 10px;
    justify-items: center;
    padding: 5px 15px;
    width: 100%;
    box-sizing: border-box;
}

.emoji-item {
    font-size: 18px;
    width: 30px;
    /* height: 30px; */
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    border-radius: 6px;
    transition: background-color 0.2s ease;
    user-select: none;
}

.emoji-item:hover {
    background-color: #f0f8ff;
    transform: scale(1.1);
}

.emoji-item:active {
    transform: scale(0.95);
}

/* Custom scrollbar for emoji picker */
.emoji-picker::-webkit-scrollbar {
    width: 8px;
}

.emoji-picker::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
}

.emoji-picker::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 10px;
}

.emoji-picker::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
}

/* Table picker styles */
.table-picker-popup {
    position: fixed;
    background: white;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    padding: 16px;
    opacity: 0;
    transform: translateY(-10px);
    transition: opacity 0.2s ease, transform 0.2s ease;
    font-family: 'Inter', sans-serif;
}

.table-picker-popup.show {
    opacity: 1;
    transform: translateY(0);
}

.table-picker-header {
    font-size: 14px;
    font-weight: 600;
    color: #333;
    margin-bottom: 12px;
    text-align: center;
}

.table-picker-grid {
    display: grid;
    grid-template-columns: repeat(10, 24px);
    grid-template-rows: repeat(10, 24px);
    gap: 4px;
    margin-bottom: 12px;
}

.table-picker-cell {
    width: 24px;
    height: 24px;
    border: 1px solid #ddd;
    border-radius: 2px;
    cursor: pointer;
    transition: all 0.1s ease;
    background: white;
}

.table-picker-cell:hover {
    border-color: #007DB8;
}

.table-picker-cell.highlighted {
    background: #e3f2fd;
    border-color: #007DB8;
}

.table-picker-label {
    text-align: center;
    font-size: 13px;
    color: #666;
    font-weight: 500;
}

/* Inserted table styles */
.noteentry table.inserted-table {
    border-collapse: collapse;
    width: 100%;
    margin: 12px 0;
}

.noteentry table.inserted-table td,
.noteentry table.inserted-table th {
    border: 1px solid #ddd;
    padding: 8px;
    min-width: 50px;
}

.noteentry table.inserted-table th {
    background-color: #f5f5f5;
    font-weight: 600;
}

.noteentry table.inserted-table tr:hover {
    background-color: #f9f9f9;
}

.folder-option:last-child {
    border-bottom: none;
}

.folder-option:hover,
.folder-option.highlighted {
    background-color: #f8f9fa;
}

.folder-option.selected {
    background-color: #007DB8;
    color: white;
}

.folder-option.selected:hover {
    background-color: #005a8a;
}

.folder-option i {
    margin-right: 8px;
    color: #666;
    width: 16px;
    text-align: center;
}

.folder-option.selected i {
    color: white;
}

.create-folder-option {
    padding: 12px 16px;
    background: linear-gradient(135deg, #e3f2fd 0%, #f8f9fa 100%);
    border-bottom: 1px solid #007DB8;
    color: #007DB8;
    font-weight: 500;
}

.create-folder-option:hover {
    background: linear-gradient(135deg, #bbdefb 0%, #e3f2fd 100%);
}

.create-folder-option .folder-name {
    color: #007DB8;
    font-weight: 500;
}

.create-folder-option i {
    color: #007DB8 !important;
}

/* Search validation error styles */
.search-validation-error {
    background-color: #ffebee;
    color: #d32f2f;
    padding: 8px 12px;
    border-radius: 4px;
    font-size: 0.85em;
    margin: 8px 0 4px 0;
    border-left: 3px solid #d32f2f;
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.search-type-btn {
    background: transparent;
    border: none;
    border-radius: 4px;
    padding: 4px 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    color: #b0b0b0;
    font-size: 0.85em;
    min-width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.search-type-btn:hover {
    background: rgba(0, 125, 184, 0.1);
}

.search-type-btn:hover i {
    color: #007DB8;
}

.search-type-btn.active i {
    color: #007DB8;
}

.search-type-btn.active:hover i {
    color: #007DB8;
}

.searchbar-row {
    display: flex;
    align-items: center;
    width: 100%;
    position: relative;
}

/* Apply default gray filter (rgb(55, 53, 47)) to all icons not on hover */
[class*="fa-"] {
  filter: brightness(0) saturate(100%) invert(21%) sepia(8%) saturate(1075%) hue-rotate(17deg) brightness(94%) contrast(89%);
  transition: transform 0.2s ease, filter 0.2s ease;
}

[class*="fa-"]:hover {
  transform: scale(1.18);
  filter: brightness(0) saturate(100%) invert(27%) sepia(95%) saturate(1500%) hue-rotate(195deg) brightness(98%) contrast(102%);
}

/* Exception: Remove filter for save button when modified (to show red color) */
.toolbar-btn.save-modified .fa-save {
  filter: none !important;
}

/* Exception: Remove filter for favorite/share/attachment/split-view (to show blue color) */
.toolbar-btn.is-favorite .fa-star-light,
.toolbar-btn.is-shared .fa-share-nodes,
.toolbar-btn.has-attachments .fa-paperclip,
.toolbar-btn.markdown-split-view-btn .fa-columns {
  filter: none !important;
}

.sidebar-plus{
  /* transform: scale(1.18); */
  filter: brightness(0) saturate(100%) invert(27%) sepia(95%) saturate(1500%) hue-rotate(195deg) brightness(98%) contrast(102%);
}

/* Make markdown toggle icons blue */
.markdown-edit-btn .fa-markdown,
.markdown-preview-btn .fa-eye {
  color: #007DB8 !important;
  filter: none !important;
}

.markdown-edit-btn:hover .fa-markdown,
.markdown-preview-btn:hover .fa-eye {
  color: #007DB8 !important;
  filter: none !important;
  transform: scale(1.18);
}

/* Unified create modal styles */
.create-options {
    display: flex;
    flex-direction: column;
    /* gap: 14px; */
    margin-top: 16px;
}

.create-section {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* Legacy class name for backwards compatibility */
.create-note-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 16px;
}

.create-note-option {
    display: flex;
    align-items: center;
    padding: 16px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    background-color: white;
}

.create-note-option:hover {
    border-color: #007DB8;
    background-color: #f8fafb;
}

.create-note-option.selected {
    border-color: #007DB8;
    background-color: #e8f4f8;
}

.create-note-option i {
    font-size: 24px;
    color: #007DB8;
    margin-right: 16px;
    min-width: 30px;
    text-align: center;
}

.create-note-option span {
    font-weight: 600;
    font-size: 16px;
    color: #333;
    margin-bottom: 4px;
    display: block;
}

.create-note-option p {
    font-size: 13px;
    color: #666;
    margin: 0;
    margin-top: 4px;
}

.create-note-option > div {
    flex: 1;
}

/* Dark mode styles for create note modal */
html[data-theme='dark'] .create-note-option,
body.dark-mode .create-note-option {
    background-color: #2a2a2a;
    border-color: #444;
}

html[data-theme='dark'] .create-note-option:hover,
body.dark-mode .create-note-option:hover {
    border-color: #007DB8;
    background-color: #333;
}

html[data-theme='dark'] .create-note-option.selected,
body.dark-mode .create-note-option.selected {
    border-color: #007DB8;
    background-color: #1a3a4a;
}

html[data-theme='dark'] .create-note-option span,
body.dark-mode .create-note-option span {
    color: #e0e0e0;
}

html[data-theme='dark'] .create-note-option p,
body.dark-mode .create-note-option p {
    color: #aaa;
}

html[data-theme='dark'] .create-section h4,
body.dark-mode .create-section h4 {
    color: #aaa;
}

/* ===== CHECKLIST STYLES ===== */
.checklist {
    list-style: none;
    padding-left: 0;
    margin: 8px 0;
}

.checklist-item {
    /* margin: 6px 0; */
    display: flex;
    align-items: center;
    gap: 8px;
}

.checklist-checkbox {
    cursor: pointer;
    width: 18px;
    height: 18px;
    flex-shrink: 0;
    margin: 2px 0;
}

.checklist-text {
    cursor: text;
    flex: 1;
    outline: none !important;
    border: none !important;
    box-shadow: none !important;
    background-color: transparent !important;
}

.checklist-text:focus {
    outline: none !important;
    border: none !important;
    box-shadow: none !important;
    background-color: transparent !important;
}

.checklist-input {
    outline: none !important;
    border: none !important;
    box-shadow: none !important;
    background-color: transparent !important;
}

.checklist-input:focus {
    outline: none !important;
    border: none !important;
    box-shadow: none !important;
    background-color: transparent !important;
}

/* Remove focus styles from all checklist-related elements */
.checklist * {
    outline: none !important;
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
}

.checklist *:focus {
    outline: none !important;
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
    background-color: transparent !important;
}

.checklist-checkbox:checked + .checklist-text {
    text-decoration: line-through;
    opacity: 0.6;
    color: #999;
}

/* Dark mode */
html[data-theme='dark'] .checklist-checkbox:checked + .checklist-text,
body.dark-mode .checklist-checkbox:checked + .checklist-text {
    color: #666;
}

