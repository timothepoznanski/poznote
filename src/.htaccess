# Apache rewrite rules for Poznote pretty public URLs
# Place this file in the document root (src/)

RewriteEngine On
# Don't rewrite real files or dirs
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# folder/<token> -> public_folder.php?token=<token>
RewriteRule ^folder/([^/]+)/?$ /public_folder.php?token=$1 [L,QSA]
# workspace/<token> -> public_note.php?token=<token>
RewriteRule ^workspace/([^/]+)/?$ /public_note.php?token=$1 [L,QSA]
# /<token> -> public_note.php?token=<token>
RewriteRule ^([^/]+)/?$ /public_note.php?token=$1 [L,QSA]
